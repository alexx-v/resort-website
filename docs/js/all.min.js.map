{"version":3,"sources":["script.js","smartScroll.js","tiny-slider.js"],"names":["jQuery","document","ready","$","top_header","window","scroll","st","this","scrollTop","css","background-position","on","e","preventDefault","id","attr","addClass","find","each","removeClass","smartScroll","init","speed","addActive","activeClass","offset","event","hash","animate","top","location","tns","container","items","gutter","slideBy","controls","autoplay","autoplayButtonOutput","navPosition","responsive","768","960","center","baguetteBox","run","mouseup","blur","$w","w","links","selectEelement","link","data","replace","navItemsChooser","options","parent","siblings","cb","defaultOptions","_typeof","length","Error","scrollTo","err","win","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","setTimeout","win$1","caf","cancelAnimationFrame","mozCancelAnimationFrame","clearTimeout","extend","obj","name","copy","target","i","arguments","undefined","checkStorageValue","value","indexOf","JSON","parse","setLocalStorage","storage","key","access","setItem","getBody","doc","body","createElement","fake","docElement","documentElement","setFakeBody","docOverflow","style","overflow","background","appendChild","resetFakeBody","remove","offsetHeight","addCSSRule","sheet","selector","rules","index","insertRule","addRule","getCssRulesLength","cssRules","forEach","arr","callback","scope","l","call","classListSupport","hasClass","el","str","classList","contains","className","add","hasAttr","hasAttribute","getAttr","getAttribute","isNodeList","item","setAttrs","els","attrs","Array","Object","prototype","toString","setAttribute","removeAttrs","attrLength","j","removeAttribute","arrayFromNodeList","nl","push","hideElement","forceHide","display","showElement","isVisible","getComputedStyle","whichProperty","props","Props","charAt","toUpperCase","substr","prefix","prop","getEndProperty","propIn","propOut","endProp","test","toLowerCase","supportsPassive","opts","defineProperty","get","addEventListener","passiveOption","passive","addEvents","preventScrolling","option","removeEvents","removeEventListener","Events","topics","eventName","fn","off","splice","emit","type","keys","object","hasOwnProperty","Element","parentNode","removeChild","mode","axis","edgePadding","fixedWidth","autoWidth","viewportMax","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navContainer","navAsThumbnails","arrowKeys","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","nonce","KEYS","ENTER","SPACE","LEFT","RIGHT","tnsStorage","localStorageAccess","browserInfo","navigator","userAgent","uid","Date","localStorage","getItem","removeItem","CALC","div","result","val","vals","width","offsetWidth","calc","PERCENTAGELAYOUT","supported","wrapper","outer","innerHTML","Math","abs","getBoundingClientRect","left","children","count","percentageLayout","CSSMQ","matchMedia","msMatchMedia","position","rule","styleSheet","cssText","createTextNode","currentStyle","mediaquerySupport","TRANSFORM","HAS3DTRANSFORMS","tf","has3d","cssTF","slice","insertBefore","getPropertyValue","has3DTransforms","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","console","warn","tnsList","optionsElements","querySelector","nodeName","carousel","responsiveTem","updateOptions","middleWrapper","breakpointZone","horizontal","outerWrapper","innerWrapper","containerParent","containerHTML","outerHTML","slideItems","slideCount","windowWidth","getWindowWidth","isOn","setBreakpointZone","slidePositions","imgsComplete","liveregionCurrent","itemsMax","media","controlsContainerHTML","prevButtonHTML","nextButtonHTML","prevIsButton","nextIsButton","navContainerHTML","navItems","pages","pagesCached","navClicked","navCurrentIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayButtonHTML","autoplayHtmlStrings","autoplayTimer","animating","autoplayHoverPaused","autoplayUserPaused","autoplayVisibilityPaused","initPosition","lastPosition","translateInit","panStart","rafIndex","getDist","getOption","viewport","getViewportWidth","floor","fixedWidthViewportWidth","slideItemsOut","cloneCount","bp","tem","ceil","min","apply","max","getItemsMax","hasOption","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","getStartIndex","indexCached","indexMin","getCurrentSlide","indexMax","moveDirectionExpected","running","events","newContainerClasses","slideId","tnsId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","click","onControlsClick","keydown","getEvent","keyIndex","keyCode","navEvents","onTransitionEnd","getTarget","navIndex","targetIndexBase","Number","goTo","stopAutoplay","curElement","activeElement","setFocus","hoverEvents","mouseover","stopAutoplayTimer","mouseout","setAutoplayTimer","visibilityEvent","visibilitychange","hidden","docmentKeydownEvent","touchEvents","touchstart","onPanStart","touchmove","onPanMove","touchend","onPanEnd","touchcancel","dragEvents","mousedown","mousemove","mouseleave","hasControls","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","slideClonedClass","imgCompleteClass","imgEvents","load","imgLoaded","error","img","imgCompleted","imgFailed","preventScroll","getPages","getCurrentNavIndex","a","b","x","y","resetVariblesWhenDisable","aria-hidden","tabindex","fragmentBefore","createDocumentFragment","fragmentAfter","cloneLast","num","cloneFirst","cloneNode","firstChild","initStructure","fontSize","slide","marginLeft","getTransitionDurationStyle","getInnerWrapperStyles","getContainerWidth","getSlideWidthStyle","getSlideGutterStyle","getAnimationDurationStyle","parseInt","middleWrapperStr","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","autoHeightBP","gutterBP","initSheet","initSliderTransform","updateIndex","leftEdge","rightEdge","transformCore","element","postfix","to","duration","tick","unit","from","positionTick","resetDuration","doContainerTransform","getContainerTransformValue","moveElement","updateContentWrapperHeight","eve","animateSlide","version","getInfo","info","play","startAutoplay","pause","updateSliderHeight","updateInnerWrapperHeight","refresh","destroy","ownerNode","resize","onResize","toggleAutoplay","clearInterval","htmlList","prevEl","parentEl","previousElementSibling","nextElementSibling","firstElementChild","rebuild","condition","ind","getAbsIndex","absIndex","innerWidth","clientWidth","getInsertPosition","pos","gap","getClientWidth","rect","right","ww","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","gutterTemUnit","itemsTem","dividend","getCSSPrefix","substring","imgs","querySelectorAll","src","imgsLoadedCheck","getImageArray","initSliderTransformStyleCheck","doContainerTransformSilent","initTools","initEvents","stylesApplicationCheck","initSliderTransformCore","setSlidePositions","txt","updateSlideStatus","insertAdjacentHTML","getLiveRegionStr","data-action","aria-label","data-nav","aria-controls","navHtml","hiddenStr","updateNavVisibility","data-controls","isButton","updateControlsStatus","disableUI","resizeTasks","doAutoHeight","doLazyLoad","disableSlider","freezeSlider","additionalUpdates","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","centerTem","autoplayTextTem","html","len","classN","enableUI","margin","unfreezeSlider","height","updateLiveRegion","updateGallerySlidePositions","deleteRule","removeRule","vp","getVisibleSlideRange","start","end","rangestart","rangeend","cell","parseFloat","point","arg","srcset","stopPropagation","imgSelector","complete","navPrev","navCurrent","updateNavStatus","getMaxSlideHeight","slideStart","slideRange","heights","maxHeight","wp","attr2","base","range","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","getCenterGap","denominator","number","classOut","classIn","isOut","render","sliderMoved","strTrans","propertyName","targetIndex","factor","indexGap","isNaN","dir","passEventObject","targetIn","setInterval","updateAutoplayButton","action","focus","isTouchEvent","changedTouches","srcElement","preventDefaultBehavior","returnValue","getMoveDirectionExpected","angle","atan2","PI","direction","clientX","clientY","panUpdate","dist","cancelable","preventClick","indexMoved","moved","rough","displayIndex"],"mappings":"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","file":"all.min.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n\t'use strict';\r\n\r\n\tvar top_header = $('.parallax');\r\n\t// top_header.css({ 'background-position': 'center center' });\r\n\r\n\t$(window).scroll(function () {\r\n\t\tvar st = $(this).scrollTop();\r\n\t\ttop_header.css({\r\n\t\t\t'background-position': 'center calc(50% + ' + st * 0.5 + 'px)',\r\n\t\t});\r\n\t});\r\n\r\n\t// Tabs\r\n\t$('.tabs__btns > a').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tvar id = $(this).attr('href');\r\n\t\t$(this).addClass('tabs__btn--active');\r\n\r\n\t\t$('.tabs__content')\r\n\t\t\t.find('.tabs__item--active')\r\n\t\t\t.each(function () {\r\n\t\t\t\t$(this).removeClass('tabs__item--active');\r\n\t\t\t});\r\n\r\n\t\t$('.tabs__btns')\r\n\t\t\t.find('.tabs__btn--active')\r\n\t\t\t.each(function () {\r\n\t\t\t\t$(this).removeClass('tabs__btn--active');\r\n\t\t\t});\r\n\r\n\t\t$(id).addClass('tabs__item--active');\r\n\t\t$(this).addClass('tabs__btn--active');\r\n\t});\r\n\r\n\t// Scrollspy\r\n\tsmartScroll.init({\r\n\t\tspeed: 700, // default 500\r\n\t\taddActive: true, // default true\r\n\t\tactiveClass: 'navbar__item--active', // default active\r\n\t\toffset: 1, // default 100\r\n\t});\r\n\r\n\t// Smooth scroll (click on button).\r\n\t$('.primary__btn').on('click', function (event) {\r\n\t\t// Make sure this.hash has a value before overriding default behavior\r\n\t\tif (this.hash !== '') {\r\n\t\t\t// Prevent default anchor click behavior\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\t// Store hash\r\n\t\t\tvar hash = this.hash;\r\n\r\n\t\t\t// Using jQuery's animate() method to add smooth page scroll\r\n\t\t\t// The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area\r\n\t\t\t$('html, body').animate(\r\n\t\t\t\t{\r\n\t\t\t\t\tscrollTop: $(hash).offset().top,\r\n\t\t\t\t},\r\n\t\t\t\t700,\r\n\t\t\t\tfunction () {\r\n\t\t\t\t\t// Add hash (#) to URL when done scrolling (default click behavior)\r\n\t\t\t\t\twindow.location.hash = hash;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} // End if\r\n\t});\r\n\r\n\t// Tiny-slider\r\n\t$('.slider').removeClass('visually-hidden');\r\n\r\n\ttns({\r\n\t\tcontainer: '.slider',\r\n\t\titems: 1,\r\n\t\tgutter: 30,\r\n\t\tslideBy: 1,\r\n\t\tcontrols: false,\r\n\t\tautoplay: true,\r\n\t\tautoplayButtonOutput: false,\r\n\t\tnavPosition: 'bottom',\r\n\t\tspeed: 400,\r\n\t\tresponsive: {\r\n\t\t\t768: {\r\n\t\t\t\tgutter: 20,\r\n\r\n\t\t\t\titems: 2,\r\n\t\t\t},\r\n\t\t\t960: {\r\n\t\t\t\titems: 3,\r\n\t\t\t\tgutter: 30,\r\n\t\t\t\tcenter: false,\r\n\t\t\t},\r\n\t\t},\r\n\t});\r\n\r\n\tbaguetteBox.run('.slider');\r\n\r\n\t// Remove blur\r\n\t$('a, button').mouseup(function () {\r\n\t\t$(this).blur();\r\n\t});\r\n});\r\n","/*\n    Creator: Mohamed Rabie Rabie Elmdary\n    About:  Mean stack developer\n    github: https://github.com/MohamedElmdary\n    codepen: https://codepen.io/mohamed9714/\n    License: MIT\n*/\nvar smartScroll = (function ($, $w) {\n    \"use strict\";\n    var w       =   $($w),\n        links   =   $(\"*[data-scroll]\");\n     // helper function to select element with jquery from dom\n    // accepts [data-scroll] starts with # or without eg. #id || id\n    function selectEelement(link) {\n        return $(\"#\" + link.data(\"scroll\").replace(/^#+/, \"\"));\n    }\n     /* \n        main plugin function\n        uses animation (jQuery function)\n        provide error in case of couldn't find the specific [id] in dom\n        id = [data-scroll] => value\n    */\n    function smartScroll(options, cb) {        \n        if (links.length <= 0) throw new Error(\"data-scroll attr must be added\");\n        links.each(function () {\n            var link = $(this);\n            link.on(\"click\", function (e) {\n                e.preventDefault(); \n                var scrollTo = selectEelement(link);\n                try {\n                    $(\"body, html\").animate({\n                        scrollTop: scrollTo.offset().top - options.offset\n                    }, options.speed);\n                } catch (err) {\n                    throw new Error(\"id:\" +  link.data(\"scroll\") + \" cannot be found please make sure to add [data-scroll] attr value as id for an elemet\");\n                }\n            });\n        });\n        cb();\n    }\n     /*\n        using window event api\n        check which element should have active class\n        byDefault it's enabled\n    */\n    function navItemsChooser(options) {\n        links.each(function () {\n            var link = selectEelement($(this));\n            if (w.scrollTop() >= $(link).offset().top - options.offset - 10) {\n                $(this).parent().addClass(options.activeClass).siblings().removeClass(options.activeClass);\n            }\n        });\n    }\n       /* \n        main plugin function\n        uses animation (jQuery function)\n        provide error in case of couldn't find the specific [id] in dom\n        id = [data-scroll] => value\n        @param {object} options - smart scroll options\n        @param {number} options.speed - smart scroll speed default is 500\n        @param {number} options.offset - smart scroll elements offset\n        @param {string} options.activeClass - active class name\n    */\n    function init(options, cb) {\n        cb = typeof(cb) === \"function\"? cb : function () {return null;};\n        if (typeof(options) === \"function\") {\n            cb = options;\n        }\n        options = typeof(options) === \"object\"? options : {};\n         var defaultOptions = {\n            speed: options.speed|| 500,\n            addActive: options.addActive|| true,\n            activeClass: options.activeClass || \"active\",\n            offset: options.offset || 100\n        };\n         smartScroll(defaultOptions, cb);\n         if (defaultOptions.addActive) {\n            navItemsChooser(defaultOptions);\n            w.on(\"scroll\", function () {\n                navItemsChooser(defaultOptions);\n            });\n        }\n    }\n     return {init: init};\n})(jQuery, window); \n","var tns = (function () {\n\tvar win = window;\n\n\tvar raf =\n\t\twin.requestAnimationFrame ||\n\t\twin.webkitRequestAnimationFrame ||\n\t\twin.mozRequestAnimationFrame ||\n\t\twin.msRequestAnimationFrame ||\n\t\tfunction (cb) {\n\t\t\treturn setTimeout(cb, 16);\n\t\t};\n\n\tvar win$1 = window;\n\n\tvar caf =\n\t\twin$1.cancelAnimationFrame ||\n\t\twin$1.mozCancelAnimationFrame ||\n\t\tfunction (id) {\n\t\t\tclearTimeout(id);\n\t\t};\n\n\tfunction extend() {\n\t\tvar obj,\n\t\t\tname,\n\t\t\tcopy,\n\t\t\ttarget = arguments[0] || {},\n\t\t\ti = 1,\n\t\t\tlength = arguments.length;\n\n\t\tfor (; i < length; i++) {\n\t\t\tif ((obj = arguments[i]) !== null) {\n\t\t\t\tfor (name in obj) {\n\t\t\t\t\tcopy = obj[name];\n\n\t\t\t\t\tif (target === copy) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n\n\tfunction checkStorageValue(value) {\n\t\treturn ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n\t}\n\n\tfunction setLocalStorage(storage, key, value, access) {\n\t\tif (access) {\n\t\t\ttry {\n\t\t\t\tstorage.setItem(key, value);\n\t\t\t} catch (e) {}\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getSlideId() {\n\t\tvar id = window.tnsId;\n\t\twindow.tnsId = !id ? 1 : id + 1;\n\n\t\treturn 'tns' + window.tnsId;\n\t}\n\n\tfunction getBody() {\n\t\tvar doc = document,\n\t\t\tbody = doc.body;\n\n\t\tif (!body) {\n\t\t\tbody = doc.createElement('body');\n\t\t\tbody.fake = true;\n\t\t}\n\n\t\treturn body;\n\t}\n\n\tvar docElement = document.documentElement;\n\n\tfunction setFakeBody(body) {\n\t\tvar docOverflow = '';\n\t\tif (body.fake) {\n\t\t\tdocOverflow = docElement.style.overflow;\n\t\t\t//avoid crashing IE8, if background image is used\n\t\t\tbody.style.background = '';\n\t\t\t//Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n\t\t\tbody.style.overflow = docElement.style.overflow = 'hidden';\n\t\t\tdocElement.appendChild(body);\n\t\t}\n\n\t\treturn docOverflow;\n\t}\n\n\tfunction resetFakeBody(body, docOverflow) {\n\t\tif (body.fake) {\n\t\t\tbody.remove();\n\t\t\tdocElement.style.overflow = docOverflow;\n\t\t\t// Trigger layout so kinetic scrolling isn't disabled in iOS6+\n\t\t\t// eslint-disable-next-line\n\t\t\tdocElement.offsetHeight;\n\t\t}\n\t}\n\n\t// get css-calc\n\n\tfunction calc() {\n\t\tvar doc = document,\n\t\t\tbody = getBody(),\n\t\t\tdocOverflow = setFakeBody(body),\n\t\t\tdiv = doc.createElement('div'),\n\t\t\tresult = false;\n\n\t\tbody.appendChild(div);\n\t\ttry {\n\t\t\tvar str = '(10px * 10)',\n\t\t\t\tvals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n\t\t\t\tval;\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tval = vals[i];\n\t\t\t\tdiv.style.width = val;\n\t\t\t\tif (div.offsetWidth === 100) {\n\t\t\t\t\tresult = val.replace(str, '');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {}\n\n\t\tbody.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n\t\treturn result;\n\t}\n\n\t// get subpixel support value\n\n\tfunction percentageLayout() {\n\t\t// check subpixel layout supporting\n\t\tvar doc = document,\n\t\t\tbody = getBody(),\n\t\t\tdocOverflow = setFakeBody(body),\n\t\t\twrapper = doc.createElement('div'),\n\t\t\touter = doc.createElement('div'),\n\t\t\tstr = '',\n\t\t\tcount = 70,\n\t\t\tperPage = 3,\n\t\t\tsupported = false;\n\n\t\twrapper.className = 'tns-t-subp2';\n\t\touter.className = 'tns-t-ct';\n\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tstr += '<div></div>';\n\t\t}\n\n\t\touter.innerHTML = str;\n\t\twrapper.appendChild(outer);\n\t\tbody.appendChild(wrapper);\n\n\t\tsupported =\n\t\t\tMath.abs(\n\t\t\t\twrapper.getBoundingClientRect().left -\n\t\t\t\t\touter.children[count - perPage].getBoundingClientRect().left\n\t\t\t) < 2;\n\n\t\tbody.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n\n\t\treturn supported;\n\t}\n\n\tfunction mediaquerySupport() {\n\t\tif (window.matchMedia || window.msMatchMedia) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar doc = document,\n\t\t\tbody = getBody(),\n\t\t\tdocOverflow = setFakeBody(body),\n\t\t\tdiv = doc.createElement('div'),\n\t\t\tstyle = doc.createElement('style'),\n\t\t\trule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n\t\t\tposition;\n\n\t\tstyle.type = 'text/css';\n\t\tdiv.className = 'tns-mq-test';\n\n\t\tbody.appendChild(style);\n\t\tbody.appendChild(div);\n\n\t\tif (style.styleSheet) {\n\t\t\tstyle.styleSheet.cssText = rule;\n\t\t} else {\n\t\t\tstyle.appendChild(doc.createTextNode(rule));\n\t\t}\n\n\t\tposition = window.getComputedStyle\n\t\t\t? window.getComputedStyle(div).position\n\t\t\t: div.currentStyle['position'];\n\n\t\tbody.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n\t\treturn position === 'absolute';\n\t}\n\n\t// create and append style sheet\n\tfunction createStyleSheet(media, nonce) {\n\t\t// Create the <style> tag\n\t\tvar style = document.createElement('style');\n\t\t// style.setAttribute(\"type\", \"text/css\");\n\n\t\t// Add a media (and/or media query) here if you'd like!\n\t\t// style.setAttribute(\"media\", \"screen\")\n\t\t// style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n\t\tif (media) {\n\t\t\tstyle.setAttribute('media', media);\n\t\t}\n\n\t\t// Add nonce attribute for Content Security Policy\n\t\tif (nonce) {\n\t\t\tstyle.setAttribute('nonce', nonce);\n\t\t}\n\n\t\t// WebKit hack :(\n\t\t// style.appendChild(document.createTextNode(\"\"));\n\n\t\t// Add the <style> element to the page\n\t\tdocument.querySelector('head').appendChild(style);\n\n\t\treturn style.sheet ? style.sheet : style.styleSheet;\n\t}\n\n\t// cross browsers addRule method\n\tfunction addCSSRule(sheet, selector, rules, index) {\n\t\t// return raf(function() {\n\t\t'insertRule' in sheet\n\t\t\t? sheet.insertRule(selector + '{' + rules + '}', index)\n\t\t\t: sheet.addRule(selector, rules, index);\n\t\t// });\n\t}\n\n\t// cross browsers addRule method\n\tfunction removeCSSRule(sheet, index) {\n\t\t// return raf(function() {\n\t\t'deleteRule' in sheet ? sheet.deleteRule(index) : sheet.removeRule(index);\n\t\t// });\n\t}\n\n\tfunction getCssRulesLength(sheet) {\n\t\tvar rule = 'insertRule' in sheet ? sheet.cssRules : sheet.rules;\n\t\treturn rule.length;\n\t}\n\n\tfunction toDegree(y, x) {\n\t\treturn Math.atan2(y, x) * (180 / Math.PI);\n\t}\n\n\tfunction getTouchDirection(angle, range) {\n\t\tvar direction = false,\n\t\t\tgap = Math.abs(90 - Math.abs(angle));\n\n\t\tif (gap >= 90 - range) {\n\t\t\tdirection = 'horizontal';\n\t\t} else if (gap <= range) {\n\t\t\tdirection = 'vertical';\n\t\t}\n\n\t\treturn direction;\n\t}\n\n\t// https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\n\tfunction forEach(arr, callback, scope) {\n\t\tfor (var i = 0, l = arr.length; i < l; i++) {\n\t\t\tcallback.call(scope, arr[i], i);\n\t\t}\n\t}\n\n\tvar classListSupport = 'classList' in document.createElement('_');\n\n\tvar hasClass = classListSupport\n\t\t? function (el, str) {\n\t\t\t\treturn el.classList.contains(str);\n\t\t  }\n\t\t: function (el, str) {\n\t\t\t\treturn el.className.indexOf(str) >= 0;\n\t\t  };\n\n\tvar addClass = classListSupport\n\t\t? function (el, str) {\n\t\t\t\tif (!hasClass(el, str)) {\n\t\t\t\t\tel.classList.add(str);\n\t\t\t\t}\n\t\t  }\n\t\t: function (el, str) {\n\t\t\t\tif (!hasClass(el, str)) {\n\t\t\t\t\tel.className += ' ' + str;\n\t\t\t\t}\n\t\t  };\n\n\tvar removeClass = classListSupport\n\t\t? function (el, str) {\n\t\t\t\tif (hasClass(el, str)) {\n\t\t\t\t\tel.classList.remove(str);\n\t\t\t\t}\n\t\t  }\n\t\t: function (el, str) {\n\t\t\t\tif (hasClass(el, str)) {\n\t\t\t\t\tel.className = el.className.replace(str, '');\n\t\t\t\t}\n\t\t  };\n\n\tfunction hasAttr(el, attr) {\n\t\treturn el.hasAttribute(attr);\n\t}\n\n\tfunction getAttr(el, attr) {\n\t\treturn el.getAttribute(attr);\n\t}\n\n\tfunction isNodeList(el) {\n\t\t// Only NodeList has the \"item()\" function\n\t\treturn typeof el.item !== 'undefined';\n\t}\n\n\tfunction setAttrs(els, attrs) {\n\t\tels = isNodeList(els) || els instanceof Array ? els : [els];\n\t\tif (Object.prototype.toString.call(attrs) !== '[object Object]') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = els.length; i--; ) {\n\t\t\tfor (var key in attrs) {\n\t\t\t\tels[i].setAttribute(key, attrs[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction removeAttrs(els, attrs) {\n\t\tels = isNodeList(els) || els instanceof Array ? els : [els];\n\t\tattrs = attrs instanceof Array ? attrs : [attrs];\n\n\t\tvar attrLength = attrs.length;\n\t\tfor (var i = els.length; i--; ) {\n\t\t\tfor (var j = attrLength; j--; ) {\n\t\t\t\tels[i].removeAttribute(attrs[j]);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction arrayFromNodeList(nl) {\n\t\tvar arr = [];\n\t\tfor (var i = 0, l = nl.length; i < l; i++) {\n\t\t\tarr.push(nl[i]);\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction hideElement(el, forceHide) {\n\t\tif (el.style.display !== 'none') {\n\t\t\tel.style.display = 'none';\n\t\t}\n\t}\n\n\tfunction showElement(el, forceHide) {\n\t\tif (el.style.display === 'none') {\n\t\t\tel.style.display = '';\n\t\t}\n\t}\n\n\tfunction isVisible(el) {\n\t\treturn window.getComputedStyle(el).display !== 'none';\n\t}\n\n\tfunction whichProperty(props) {\n\t\tif (typeof props === 'string') {\n\t\t\tvar arr = [props],\n\t\t\t\tProps = props.charAt(0).toUpperCase() + props.substr(1),\n\t\t\t\tprefixes = ['Webkit', 'Moz', 'ms', 'O'];\n\n\t\t\tprefixes.forEach(function (prefix) {\n\t\t\t\tif (prefix !== 'ms' || props === 'transform') {\n\t\t\t\t\tarr.push(prefix + Props);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tprops = arr;\n\t\t}\n\n\t\tvar el = document.createElement('fakeelement'),\n\t\t\tlen = props.length;\n\t\tfor (var i = 0; i < props.length; i++) {\n\t\t\tvar prop = props[i];\n\t\t\tif (el.style[prop] !== undefined) {\n\t\t\t\treturn prop;\n\t\t\t}\n\t\t}\n\n\t\treturn false; // explicit for ie9-\n\t}\n\n\tfunction has3DTransforms(tf) {\n\t\tif (!tf) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!window.getComputedStyle) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar doc = document,\n\t\t\tbody = getBody(),\n\t\t\tdocOverflow = setFakeBody(body),\n\t\t\tel = doc.createElement('p'),\n\t\t\thas3d,\n\t\t\tcssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n\n\t\tcssTF += 'transform';\n\n\t\t// Add it to the body to get the computed style\n\t\tbody.insertBefore(el, null);\n\n\t\tel.style[tf] = 'translate3d(1px,1px,1px)';\n\t\thas3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n\n\t\tbody.fake ? resetFakeBody(body, docOverflow) : el.remove();\n\n\t\treturn has3d !== undefined && has3d.length > 0 && has3d !== 'none';\n\t}\n\n\t// get transitionend, animationend based on transitionDuration\n\t// @propin: string\n\t// @propOut: string, first-letter uppercase\n\t// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\n\tfunction getEndProperty(propIn, propOut) {\n\t\tvar endProp = false;\n\t\tif (/^Webkit/.test(propIn)) {\n\t\t\tendProp = 'webkit' + propOut + 'End';\n\t\t} else if (/^O/.test(propIn)) {\n\t\t\tendProp = 'o' + propOut + 'End';\n\t\t} else if (propIn) {\n\t\t\tendProp = propOut.toLowerCase() + 'end';\n\t\t}\n\t\treturn endProp;\n\t}\n\n\t// Test via a getter in the options object to see if the passive property is accessed\n\tvar supportsPassive = false;\n\ttry {\n\t\tvar opts = Object.defineProperty({}, 'passive', {\n\t\t\tget: function () {\n\t\t\t\tsupportsPassive = true;\n\t\t\t},\n\t\t});\n\t\twindow.addEventListener('test', null, opts);\n\t} catch (e) {}\n\tvar passiveOption = supportsPassive ? { passive: true } : false;\n\n\tfunction addEvents(el, obj, preventScrolling) {\n\t\tfor (var prop in obj) {\n\t\t\tvar option =\n\t\t\t\t['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling\n\t\t\t\t\t? passiveOption\n\t\t\t\t\t: false;\n\t\t\tel.addEventListener(prop, obj[prop], option);\n\t\t}\n\t}\n\n\tfunction removeEvents(el, obj) {\n\t\tfor (var prop in obj) {\n\t\t\tvar option =\n\t\t\t\t['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n\t\t\tel.removeEventListener(prop, obj[prop], option);\n\t\t}\n\t}\n\n\tfunction Events() {\n\t\treturn {\n\t\t\ttopics: {},\n\t\t\ton: function (eventName, fn) {\n\t\t\t\tthis.topics[eventName] = this.topics[eventName] || [];\n\t\t\t\tthis.topics[eventName].push(fn);\n\t\t\t},\n\t\t\toff: function (eventName, fn) {\n\t\t\t\tif (this.topics[eventName]) {\n\t\t\t\t\tfor (var i = 0; i < this.topics[eventName].length; i++) {\n\t\t\t\t\t\tif (this.topics[eventName][i] === fn) {\n\t\t\t\t\t\t\tthis.topics[eventName].splice(i, 1);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\temit: function (eventName, data) {\n\t\t\t\tdata.type = eventName;\n\t\t\t\tif (this.topics[eventName]) {\n\t\t\t\t\tthis.topics[eventName].forEach(function (fn) {\n\t\t\t\t\t\tfn(data, eventName);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t}\n\n\tfunction jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n\t\tvar tick = Math.min(duration, 10),\n\t\t\tunit = to.indexOf('%') >= 0 ? '%' : 'px',\n\t\t\tto = to.replace(unit, ''),\n\t\t\tfrom = Number(\n\t\t\t\telement.style[attr]\n\t\t\t\t\t.replace(prefix, '')\n\t\t\t\t\t.replace(postfix, '')\n\t\t\t\t\t.replace(unit, '')\n\t\t\t),\n\t\t\tpositionTick = ((to - from) / duration) * tick,\n\t\t\trunning;\n\n\t\tsetTimeout(moveElement, tick);\n\t\tfunction moveElement() {\n\t\t\tduration -= tick;\n\t\t\tfrom += positionTick;\n\t\t\telement.style[attr] = prefix + from + unit + postfix;\n\t\t\tif (duration > 0) {\n\t\t\t\tsetTimeout(moveElement, tick);\n\t\t\t} else {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t}\n\n\t// Object.keys\n\tif (!Object.keys) {\n\t\tObject.keys = function (object) {\n\t\t\tvar keys = [];\n\t\t\tfor (var name in object) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(object, name)) {\n\t\t\t\t\tkeys.push(name);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn keys;\n\t\t};\n\t}\n\n\t// ChildNode.remove\n\tif (!('remove' in Element.prototype)) {\n\t\tElement.prototype.remove = function () {\n\t\t\tif (this.parentNode) {\n\t\t\t\tthis.parentNode.removeChild(this);\n\t\t\t}\n\t\t};\n\t}\n\n\tvar tns = function (options) {\n\t\toptions = extend(\n\t\t\t{\n\t\t\t\tcontainer: '.slider',\n\t\t\t\tmode: 'carousel',\n\t\t\t\taxis: 'horizontal',\n\t\t\t\titems: 1,\n\t\t\t\tgutter: 0,\n\t\t\t\tedgePadding: 0,\n\t\t\t\tfixedWidth: false,\n\t\t\t\tautoWidth: false,\n\t\t\t\tviewportMax: false,\n\t\t\t\tslideBy: 1,\n\t\t\t\tcenter: false,\n\t\t\t\tcontrols: true,\n\t\t\t\tcontrolsPosition: 'top',\n\t\t\t\tcontrolsText: ['prev', 'next'],\n\t\t\t\tcontrolsContainer: false,\n\t\t\t\tprevButton: false,\n\t\t\t\tnextButton: false,\n\t\t\t\tnav: true,\n\t\t\t\tnavPosition: 'top',\n\t\t\t\tnavContainer: false,\n\t\t\t\tnavAsThumbnails: false,\n\t\t\t\tarrowKeys: false,\n\t\t\t\tspeed: 300,\n\t\t\t\tautoplay: false,\n\t\t\t\tautoplayPosition: 'top',\n\t\t\t\tautoplayTimeout: 5000,\n\t\t\t\tautoplayDirection: 'forward',\n\t\t\t\tautoplayText: ['start', 'stop'],\n\t\t\t\tautoplayHoverPause: false,\n\t\t\t\tautoplayButton: false,\n\t\t\t\tautoplayButtonOutput: true,\n\t\t\t\tautoplayResetOnVisibility: true,\n\t\t\t\tanimateIn: 'tns-fadeIn',\n\t\t\t\tanimateOut: 'tns-fadeOut',\n\t\t\t\tanimateNormal: 'tns-normal',\n\t\t\t\tanimateDelay: false,\n\t\t\t\tloop: true,\n\t\t\t\trewind: false,\n\t\t\t\tautoHeight: false,\n\t\t\t\tresponsive: false,\n\t\t\t\tlazyload: false,\n\t\t\t\tlazyloadSelector: '.tns-lazy-img',\n\t\t\t\ttouch: true,\n\t\t\t\tmouseDrag: false,\n\t\t\t\tswipeAngle: 15,\n\t\t\t\tnested: false,\n\t\t\t\tpreventActionWhenRunning: false,\n\t\t\t\tpreventScrollOnTouch: false,\n\t\t\t\tfreezable: true,\n\t\t\t\tonInit: false,\n\t\t\t\tuseLocalStorage: true,\n\t\t\t\tnonce: false,\n\t\t\t},\n\t\t\toptions || {}\n\t\t);\n\n\t\tvar doc = document,\n\t\t\twin = window,\n\t\t\tKEYS = {\n\t\t\t\tENTER: 13,\n\t\t\t\tSPACE: 32,\n\t\t\t\tLEFT: 37,\n\t\t\t\tRIGHT: 39,\n\t\t\t},\n\t\t\ttnsStorage = {},\n\t\t\tlocalStorageAccess = options.useLocalStorage;\n\n\t\tif (localStorageAccess) {\n\t\t\t// check browser version and local storage access\n\t\t\tvar browserInfo = navigator.userAgent;\n\t\t\tvar uid = new Date();\n\n\t\t\ttry {\n\t\t\t\ttnsStorage = win.localStorage;\n\t\t\t\tif (tnsStorage) {\n\t\t\t\t\ttnsStorage.setItem(uid, uid);\n\t\t\t\t\tlocalStorageAccess = tnsStorage.getItem(uid) == uid;\n\t\t\t\t\ttnsStorage.removeItem(uid);\n\t\t\t\t} else {\n\t\t\t\t\tlocalStorageAccess = false;\n\t\t\t\t}\n\t\t\t\tif (!localStorageAccess) {\n\t\t\t\t\ttnsStorage = {};\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tlocalStorageAccess = false;\n\t\t\t}\n\n\t\t\tif (localStorageAccess) {\n\t\t\t\t// remove storage when browser version changes\n\t\t\t\tif (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n\t\t\t\t\t[\n\t\t\t\t\t\t'tC',\n\t\t\t\t\t\t'tPL',\n\t\t\t\t\t\t'tMQ',\n\t\t\t\t\t\t'tTf',\n\t\t\t\t\t\t't3D',\n\t\t\t\t\t\t'tTDu',\n\t\t\t\t\t\t'tTDe',\n\t\t\t\t\t\t'tADu',\n\t\t\t\t\t\t'tADe',\n\t\t\t\t\t\t'tTE',\n\t\t\t\t\t\t'tAE',\n\t\t\t\t\t].forEach(function (item) {\n\t\t\t\t\t\ttnsStorage.removeItem(item);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// update browserInfo\n\t\t\t\tlocalStorage['tnsApp'] = browserInfo;\n\t\t\t}\n\t\t}\n\n\t\tvar CALC = tnsStorage['tC']\n\t\t\t\t? checkStorageValue(tnsStorage['tC'])\n\t\t\t\t: setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n\t\t\tPERCENTAGELAYOUT = tnsStorage['tPL']\n\t\t\t\t? checkStorageValue(tnsStorage['tPL'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tPL',\n\t\t\t\t\t\tpercentageLayout(),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tCSSMQ = tnsStorage['tMQ']\n\t\t\t\t? checkStorageValue(tnsStorage['tMQ'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tMQ',\n\t\t\t\t\t\tmediaquerySupport(),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tTRANSFORM = tnsStorage['tTf']\n\t\t\t\t? checkStorageValue(tnsStorage['tTf'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tTf',\n\t\t\t\t\t\twhichProperty('transform'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tHAS3DTRANSFORMS = tnsStorage['t3D']\n\t\t\t\t? checkStorageValue(tnsStorage['t3D'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t't3D',\n\t\t\t\t\t\thas3DTransforms(TRANSFORM),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tTRANSITIONDURATION = tnsStorage['tTDu']\n\t\t\t\t? checkStorageValue(tnsStorage['tTDu'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tTDu',\n\t\t\t\t\t\twhichProperty('transitionDuration'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tTRANSITIONDELAY = tnsStorage['tTDe']\n\t\t\t\t? checkStorageValue(tnsStorage['tTDe'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tTDe',\n\t\t\t\t\t\twhichProperty('transitionDelay'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tANIMATIONDURATION = tnsStorage['tADu']\n\t\t\t\t? checkStorageValue(tnsStorage['tADu'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tADu',\n\t\t\t\t\t\twhichProperty('animationDuration'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tANIMATIONDELAY = tnsStorage['tADe']\n\t\t\t\t? checkStorageValue(tnsStorage['tADe'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tADe',\n\t\t\t\t\t\twhichProperty('animationDelay'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tTRANSITIONEND = tnsStorage['tTE']\n\t\t\t\t? checkStorageValue(tnsStorage['tTE'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tTE',\n\t\t\t\t\t\tgetEndProperty(TRANSITIONDURATION, 'Transition'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  ),\n\t\t\tANIMATIONEND = tnsStorage['tAE']\n\t\t\t\t? checkStorageValue(tnsStorage['tAE'])\n\t\t\t\t: setLocalStorage(\n\t\t\t\t\t\ttnsStorage,\n\t\t\t\t\t\t'tAE',\n\t\t\t\t\t\tgetEndProperty(ANIMATIONDURATION, 'Animation'),\n\t\t\t\t\t\tlocalStorageAccess\n\t\t\t\t  );\n\n\t\t// get element nodes from selectors\n\t\tvar supportConsoleWarn =\n\t\t\t\twin.console && typeof win.console.warn === 'function',\n\t\t\ttnsList = [\n\t\t\t\t'container',\n\t\t\t\t'controlsContainer',\n\t\t\t\t'prevButton',\n\t\t\t\t'nextButton',\n\t\t\t\t'navContainer',\n\t\t\t\t'autoplayButton',\n\t\t\t],\n\t\t\toptionsElements = {};\n\n\t\ttnsList.forEach(function (item) {\n\t\t\tif (typeof options[item] === 'string') {\n\t\t\t\tvar str = options[item],\n\t\t\t\t\tel = doc.querySelector(str);\n\t\t\t\toptionsElements[item] = str;\n\n\t\t\t\tif (el && el.nodeName) {\n\t\t\t\t\toptions[item] = el;\n\t\t\t\t} else {\n\t\t\t\t\tif (supportConsoleWarn) {\n\t\t\t\t\t\tconsole.warn(\"Can't find\", options[item]);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// make sure at least 1 slide\n\t\tif (options.container.children.length < 1) {\n\t\t\tif (supportConsoleWarn) {\n\t\t\t\tconsole.warn('No slides found in', options.container);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// update options\n\t\tvar responsive = options.responsive,\n\t\t\tnested = options.nested,\n\t\t\tcarousel = options.mode === 'carousel' ? true : false;\n\n\t\tif (responsive) {\n\t\t\t// apply responsive[0] to options and remove it\n\t\t\tif (0 in responsive) {\n\t\t\t\toptions = extend(options, responsive[0]);\n\t\t\t\tdelete responsive[0];\n\t\t\t}\n\n\t\t\tvar responsiveTem = {};\n\t\t\tfor (var key in responsive) {\n\t\t\t\tvar val = responsive[key];\n\t\t\t\t// update responsive\n\t\t\t\t// from: 300: 2\n\t\t\t\t// to:\n\t\t\t\t//   300: {\n\t\t\t\t//     items: 2\n\t\t\t\t//   }\n\t\t\t\tval = typeof val === 'number' ? { items: val } : val;\n\t\t\t\tresponsiveTem[key] = val;\n\t\t\t}\n\t\t\tresponsive = responsiveTem;\n\t\t\tresponsiveTem = null;\n\t\t}\n\n\t\t// update options\n\t\tfunction updateOptions(obj) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (!carousel) {\n\t\t\t\t\tif (key === 'slideBy') {\n\t\t\t\t\t\tobj[key] = 'page';\n\t\t\t\t\t}\n\t\t\t\t\tif (key === 'edgePadding') {\n\t\t\t\t\t\tobj[key] = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (key === 'autoHeight') {\n\t\t\t\t\t\tobj[key] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// update responsive options\n\t\t\t\tif (key === 'responsive') {\n\t\t\t\t\tupdateOptions(obj[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!carousel) {\n\t\t\tupdateOptions(options);\n\t\t}\n\n\t\t// === define and set variables ===\n\t\tif (!carousel) {\n\t\t\toptions.axis = 'horizontal';\n\t\t\toptions.slideBy = 'page';\n\t\t\toptions.edgePadding = false;\n\n\t\t\tvar animateIn = options.animateIn,\n\t\t\t\tanimateOut = options.animateOut,\n\t\t\t\tanimateDelay = options.animateDelay,\n\t\t\t\tanimateNormal = options.animateNormal;\n\t\t}\n\n\t\tvar horizontal = options.axis === 'horizontal' ? true : false,\n\t\t\touterWrapper = doc.createElement('div'),\n\t\t\tinnerWrapper = doc.createElement('div'),\n\t\t\tmiddleWrapper,\n\t\t\tcontainer = options.container,\n\t\t\tcontainerParent = container.parentNode,\n\t\t\tcontainerHTML = container.outerHTML,\n\t\t\tslideItems = container.children,\n\t\t\tslideCount = slideItems.length,\n\t\t\tbreakpointZone,\n\t\t\twindowWidth = getWindowWidth(),\n\t\t\tisOn = false;\n\t\tif (responsive) {\n\t\t\tsetBreakpointZone();\n\t\t}\n\t\tif (carousel) {\n\t\t\tcontainer.className += ' tns-vpfix';\n\t\t}\n\n\t\t// fixedWidth: viewport > rightBoundary > indexMax\n\t\tvar autoWidth = options.autoWidth,\n\t\t\tfixedWidth = getOption('fixedWidth'),\n\t\t\tedgePadding = getOption('edgePadding'),\n\t\t\tgutter = getOption('gutter'),\n\t\t\tviewport = getViewportWidth(),\n\t\t\tcenter = getOption('center'),\n\t\t\titems = !autoWidth ? Math.floor(getOption('items')) : 1,\n\t\t\tslideBy = getOption('slideBy'),\n\t\t\tviewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n\t\t\tarrowKeys = getOption('arrowKeys'),\n\t\t\tspeed = getOption('speed'),\n\t\t\trewind = options.rewind,\n\t\t\tloop = rewind ? false : options.loop,\n\t\t\tautoHeight = getOption('autoHeight'),\n\t\t\tcontrols = getOption('controls'),\n\t\t\tcontrolsText = getOption('controlsText'),\n\t\t\tnav = getOption('nav'),\n\t\t\ttouch = getOption('touch'),\n\t\t\tmouseDrag = getOption('mouseDrag'),\n\t\t\tautoplay = getOption('autoplay'),\n\t\t\tautoplayTimeout = getOption('autoplayTimeout'),\n\t\t\tautoplayText = getOption('autoplayText'),\n\t\t\tautoplayHoverPause = getOption('autoplayHoverPause'),\n\t\t\tautoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n\t\t\tsheet = createStyleSheet(null, getOption('nonce')),\n\t\t\tlazyload = options.lazyload,\n\t\t\tlazyloadSelector = options.lazyloadSelector,\n\t\t\tslidePositions, // collection of slide positions\n\t\t\tslideItemsOut = [],\n\t\t\tcloneCount = loop ? getCloneCountForLoop() : 0,\n\t\t\tslideCountNew = !carousel\n\t\t\t\t? slideCount + cloneCount\n\t\t\t\t: slideCount + cloneCount * 2,\n\t\t\thasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n\t\t\trightBoundary = fixedWidth ? getRightBoundary() : null,\n\t\t\tupdateIndexBeforeTransform = !carousel || !loop ? true : false,\n\t\t\t// transform\n\t\t\ttransformAttr = horizontal ? 'left' : 'top',\n\t\t\ttransformPrefix = '',\n\t\t\ttransformPostfix = '',\n\t\t\t// index\n\t\t\tgetIndexMax = (function () {\n\t\t\t\tif (fixedWidth) {\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\treturn center && !loop\n\t\t\t\t\t\t\t? slideCount - 1\n\t\t\t\t\t\t\t: Math.ceil(-rightBoundary / (fixedWidth + gutter));\n\t\t\t\t\t};\n\t\t\t\t} else if (autoWidth) {\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\tfor (var i = 0; i < slideCountNew; i++) {\n\t\t\t\t\t\t\tif (slidePositions[i] >= -rightBoundary) {\n\t\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn function () {\n\t\t\t\t\t\tif (center && carousel && !loop) {\n\t\t\t\t\t\t\treturn slideCount - 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn loop || carousel\n\t\t\t\t\t\t\t\t? Math.max(0, slideCountNew - Math.ceil(items))\n\t\t\t\t\t\t\t\t: slideCountNew - 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t})(),\n\t\t\tindex = getStartIndex(getOption('startIndex')),\n\t\t\tindexCached = index,\n\t\t\tdisplayIndex = getCurrentSlide(),\n\t\t\tindexMin = 0,\n\t\t\tindexMax = !autoWidth ? getIndexMax() : null,\n\t\t\t// resize\n\t\t\tresizeTimer,\n\t\t\tpreventActionWhenRunning = options.preventActionWhenRunning,\n\t\t\tswipeAngle = options.swipeAngle,\n\t\t\tmoveDirectionExpected = swipeAngle ? '?' : true,\n\t\t\trunning = false,\n\t\t\tonInit = options.onInit,\n\t\t\tevents = new Events(),\n\t\t\t// id, class\n\t\t\tnewContainerClasses = ' tns-slider tns-' + options.mode,\n\t\t\tslideId = container.id || getSlideId(),\n\t\t\tdisable = getOption('disable'),\n\t\t\tdisabled = false,\n\t\t\tfreezable = options.freezable,\n\t\t\tfreeze = freezable && !autoWidth ? getFreeze() : false,\n\t\t\tfrozen = false,\n\t\t\tcontrolsEvents = {\n\t\t\t\tclick: onControlsClick,\n\t\t\t\tkeydown: onControlsKeydown,\n\t\t\t},\n\t\t\tnavEvents = {\n\t\t\t\tclick: onNavClick,\n\t\t\t\tkeydown: onNavKeydown,\n\t\t\t},\n\t\t\thoverEvents = {\n\t\t\t\tmouseover: mouseoverPause,\n\t\t\t\tmouseout: mouseoutRestart,\n\t\t\t},\n\t\t\tvisibilityEvent = { visibilitychange: onVisibilityChange },\n\t\t\tdocmentKeydownEvent = { keydown: onDocumentKeydown },\n\t\t\ttouchEvents = {\n\t\t\t\ttouchstart: onPanStart,\n\t\t\t\ttouchmove: onPanMove,\n\t\t\t\ttouchend: onPanEnd,\n\t\t\t\ttouchcancel: onPanEnd,\n\t\t\t},\n\t\t\tdragEvents = {\n\t\t\t\tmousedown: onPanStart,\n\t\t\t\tmousemove: onPanMove,\n\t\t\t\tmouseup: onPanEnd,\n\t\t\t\tmouseleave: onPanEnd,\n\t\t\t},\n\t\t\thasControls = hasOption('controls'),\n\t\t\thasNav = hasOption('nav'),\n\t\t\tnavAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n\t\t\thasAutoplay = hasOption('autoplay'),\n\t\t\thasTouch = hasOption('touch'),\n\t\t\thasMouseDrag = hasOption('mouseDrag'),\n\t\t\tslideActiveClass = 'tns-slide-active',\n\t\t\tslideClonedClass = 'tns-slide-cloned',\n\t\t\timgCompleteClass = 'tns-complete',\n\t\t\timgEvents = {\n\t\t\t\tload: onImgLoaded,\n\t\t\t\terror: onImgFailed,\n\t\t\t},\n\t\t\timgsComplete,\n\t\t\tliveregionCurrent,\n\t\t\tpreventScroll = options.preventScrollOnTouch === 'force' ? true : false;\n\n\t\t// controls\n\t\tif (hasControls) {\n\t\t\tvar controlsContainer = options.controlsContainer,\n\t\t\t\tcontrolsContainerHTML = options.controlsContainer\n\t\t\t\t\t? options.controlsContainer.outerHTML\n\t\t\t\t\t: '',\n\t\t\t\tprevButton = options.prevButton,\n\t\t\t\tnextButton = options.nextButton,\n\t\t\t\tprevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n\t\t\t\tnextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n\t\t\t\tprevIsButton,\n\t\t\t\tnextIsButton;\n\t\t}\n\n\t\t// nav\n\t\tif (hasNav) {\n\t\t\tvar navContainer = options.navContainer,\n\t\t\t\tnavContainerHTML = options.navContainer\n\t\t\t\t\t? options.navContainer.outerHTML\n\t\t\t\t\t: '',\n\t\t\t\tnavItems,\n\t\t\t\tpages = autoWidth ? slideCount : getPages(),\n\t\t\t\tpagesCached = 0,\n\t\t\t\tnavClicked = -1,\n\t\t\t\tnavCurrentIndex = getCurrentNavIndex(),\n\t\t\t\tnavCurrentIndexCached = navCurrentIndex,\n\t\t\t\tnavActiveClass = 'tns-nav-active',\n\t\t\t\tnavStr = 'Carousel Page ',\n\t\t\t\tnavStrCurrent = ' (Current Slide)';\n\t\t}\n\n\t\t// autoplay\n\t\tif (hasAutoplay) {\n\t\t\tvar autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n\t\t\t\tautoplayButton = options.autoplayButton,\n\t\t\t\tautoplayButtonHTML = options.autoplayButton\n\t\t\t\t\t? options.autoplayButton.outerHTML\n\t\t\t\t\t: '',\n\t\t\t\tautoplayHtmlStrings = [\n\t\t\t\t\t\"<span class='tns-visually-hidden'>\",\n\t\t\t\t\t' animation</span>',\n\t\t\t\t],\n\t\t\t\tautoplayTimer,\n\t\t\t\tanimating,\n\t\t\t\tautoplayHoverPaused,\n\t\t\t\tautoplayUserPaused,\n\t\t\t\tautoplayVisibilityPaused;\n\t\t}\n\n\t\tif (hasTouch || hasMouseDrag) {\n\t\t\tvar initPosition = {},\n\t\t\t\tlastPosition = {},\n\t\t\t\ttranslateInit,\n\t\t\t\tdisX,\n\t\t\t\tdisY,\n\t\t\t\tpanStart = false,\n\t\t\t\trafIndex,\n\t\t\t\tgetDist = horizontal\n\t\t\t\t\t? function (a, b) {\n\t\t\t\t\t\t\treturn a.x - b.x;\n\t\t\t\t\t  }\n\t\t\t\t\t: function (a, b) {\n\t\t\t\t\t\t\treturn a.y - b.y;\n\t\t\t\t\t  };\n\t\t}\n\n\t\t// disable slider when slidecount <= items\n\t\tif (!autoWidth) {\n\t\t\tresetVariblesWhenDisable(disable || freeze);\n\t\t}\n\n\t\tif (TRANSFORM) {\n\t\t\ttransformAttr = TRANSFORM;\n\t\t\ttransformPrefix = 'translate';\n\n\t\t\tif (HAS3DTRANSFORMS) {\n\t\t\t\ttransformPrefix += horizontal ? '3d(' : '3d(0px, ';\n\t\t\t\ttransformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n\t\t\t} else {\n\t\t\t\ttransformPrefix += horizontal ? 'X(' : 'Y(';\n\t\t\t\ttransformPostfix = ')';\n\t\t\t}\n\t\t}\n\n\t\tif (carousel) {\n\t\t\tcontainer.className = container.className.replace('tns-vpfix', '');\n\t\t}\n\t\tinitStructure();\n\t\tinitSheet();\n\t\tinitSliderTransform();\n\n\t\t// === COMMON FUNCTIONS === //\n\t\tfunction resetVariblesWhenDisable(condition) {\n\t\t\tif (condition) {\n\t\t\t\tcontrols = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurrentSlide() {\n\t\t\tvar tem = carousel ? index - cloneCount : index;\n\t\t\twhile (tem < 0) {\n\t\t\t\ttem += slideCount;\n\t\t\t}\n\t\t\treturn (tem % slideCount) + 1;\n\t\t}\n\n\t\tfunction getStartIndex(ind) {\n\t\t\tind = ind\n\t\t\t\t? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind))\n\t\t\t\t: 0;\n\t\t\treturn carousel ? ind + cloneCount : ind;\n\t\t}\n\n\t\tfunction getAbsIndex(i) {\n\t\t\tif (i == null) {\n\t\t\t\ti = index;\n\t\t\t}\n\n\t\t\tif (carousel) {\n\t\t\t\ti -= cloneCount;\n\t\t\t}\n\t\t\twhile (i < 0) {\n\t\t\t\ti += slideCount;\n\t\t\t}\n\n\t\t\treturn Math.floor(i % slideCount);\n\t\t}\n\n\t\tfunction getCurrentNavIndex() {\n\t\t\tvar absIndex = getAbsIndex(),\n\t\t\t\tresult;\n\n\t\t\tresult = navAsThumbnails\n\t\t\t\t? absIndex\n\t\t\t\t: fixedWidth || autoWidth\n\t\t\t\t? Math.ceil(((absIndex + 1) * pages) / slideCount - 1)\n\t\t\t\t: Math.floor(absIndex / items);\n\n\t\t\t// set active nav to the last one when reaches the right edge\n\t\t\tif (!loop && carousel && index === indexMax) {\n\t\t\t\tresult = pages - 1;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction getItemsMax() {\n\t\t\t// fixedWidth or autoWidth while viewportMax is not available\n\t\t\tif (autoWidth || (fixedWidth && !viewportMax)) {\n\t\t\t\treturn slideCount - 1;\n\t\t\t\t// most cases\n\t\t\t} else {\n\t\t\t\tvar str = fixedWidth ? 'fixedWidth' : 'items',\n\t\t\t\t\tarr = [];\n\n\t\t\t\tif (fixedWidth || options[str] < slideCount) {\n\t\t\t\t\tarr.push(options[str]);\n\t\t\t\t}\n\n\t\t\t\tif (responsive) {\n\t\t\t\t\tfor (var bp in responsive) {\n\t\t\t\t\t\tvar tem = responsive[bp][str];\n\t\t\t\t\t\tif (tem && (fixedWidth || tem < slideCount)) {\n\t\t\t\t\t\t\tarr.push(tem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!arr.length) {\n\t\t\t\t\tarr.push(0);\n\t\t\t\t}\n\n\t\t\t\treturn Math.ceil(\n\t\t\t\t\tfixedWidth\n\t\t\t\t\t\t? viewportMax / Math.min.apply(null, arr)\n\t\t\t\t\t\t: Math.max.apply(null, arr)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction getCloneCountForLoop() {\n\t\t\tvar itemsMax = getItemsMax(),\n\t\t\t\tresult = carousel\n\t\t\t\t\t? Math.ceil((itemsMax * 5 - slideCount) / 2)\n\t\t\t\t\t: itemsMax * 4 - slideCount;\n\t\t\tresult = Math.max(itemsMax, result);\n\n\t\t\treturn hasOption('edgePadding') ? result + 1 : result;\n\t\t}\n\n\t\tfunction getWindowWidth() {\n\t\t\treturn (\n\t\t\t\twin.innerWidth ||\n\t\t\t\tdoc.documentElement.clientWidth ||\n\t\t\t\tdoc.body.clientWidth\n\t\t\t);\n\t\t}\n\n\t\tfunction getInsertPosition(pos) {\n\t\t\treturn pos === 'top' ? 'afterbegin' : 'beforeend';\n\t\t}\n\n\t\tfunction getClientWidth(el) {\n\t\t\tif (el == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar div = doc.createElement('div'),\n\t\t\t\trect,\n\t\t\t\twidth;\n\t\t\tel.appendChild(div);\n\t\t\trect = div.getBoundingClientRect();\n\t\t\twidth = rect.right - rect.left;\n\t\t\tdiv.remove();\n\t\t\treturn width || getClientWidth(el.parentNode);\n\t\t}\n\n\t\tfunction getViewportWidth() {\n\t\t\tvar gap = edgePadding ? edgePadding * 2 - gutter : 0;\n\t\t\treturn getClientWidth(containerParent) - gap;\n\t\t}\n\n\t\tfunction hasOption(item) {\n\t\t\tif (options[item]) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tif (responsive) {\n\t\t\t\t\tfor (var bp in responsive) {\n\t\t\t\t\t\tif (responsive[bp][item]) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// get option:\n\t\t// fixed width: viewport, fixedWidth, gutter => items\n\t\t// others: window width => all variables\n\t\t// all: items => slideBy\n\t\tfunction getOption(item, ww) {\n\t\t\tif (ww == null) {\n\t\t\t\tww = windowWidth;\n\t\t\t}\n\n\t\t\tif (item === 'items' && fixedWidth) {\n\t\t\t\treturn Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n\t\t\t} else {\n\t\t\t\tvar result = options[item];\n\n\t\t\t\tif (responsive) {\n\t\t\t\t\tfor (var bp in responsive) {\n\t\t\t\t\t\t// bp: convert string to number\n\t\t\t\t\t\tif (ww >= parseInt(bp)) {\n\t\t\t\t\t\t\tif (item in responsive[bp]) {\n\t\t\t\t\t\t\t\tresult = responsive[bp][item];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (item === 'slideBy' && result === 'page') {\n\t\t\t\t\tresult = getOption('items');\n\t\t\t\t}\n\t\t\t\tif (!carousel && (item === 'slideBy' || item === 'items')) {\n\t\t\t\t\tresult = Math.floor(result);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\tfunction getSlideMarginLeft(i) {\n\t\t\treturn CALC\n\t\t\t\t? CALC + '(' + i * 100 + '% / ' + slideCountNew + ')'\n\t\t\t\t: (i * 100) / slideCountNew + '%';\n\t\t}\n\n\t\tfunction getInnerWrapperStyles(\n\t\t\tedgePaddingTem,\n\t\t\tgutterTem,\n\t\t\tfixedWidthTem,\n\t\t\tspeedTem,\n\t\t\tautoHeightBP\n\t\t) {\n\t\t\tvar str = '';\n\n\t\t\tif (edgePaddingTem !== undefined) {\n\t\t\t\tvar gap = edgePaddingTem;\n\t\t\t\tif (gutterTem) {\n\t\t\t\t\tgap -= gutterTem;\n\t\t\t\t}\n\t\t\t\tstr = horizontal\n\t\t\t\t\t? 'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;'\n\t\t\t\t\t: 'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n\t\t\t} else if (gutterTem && !fixedWidthTem) {\n\t\t\t\tvar gutterTemUnit = '-' + gutterTem + 'px',\n\t\t\t\t\tdir = horizontal\n\t\t\t\t\t\t? gutterTemUnit + ' 0 0'\n\t\t\t\t\t\t: '0 ' + gutterTemUnit + ' 0';\n\t\t\t\tstr = 'margin: 0 ' + dir + ';';\n\t\t\t}\n\n\t\t\tif (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) {\n\t\t\t\tstr += getTransitionDurationStyle(speedTem);\n\t\t\t}\n\t\t\treturn str;\n\t\t}\n\n\t\tfunction getContainerWidth(fixedWidthTem, gutterTem, itemsTem) {\n\t\t\tif (fixedWidthTem) {\n\t\t\t\treturn (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n\t\t\t} else {\n\t\t\t\treturn CALC\n\t\t\t\t\t? CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')'\n\t\t\t\t\t: (slideCountNew * 100) / itemsTem + '%';\n\t\t\t}\n\t\t}\n\n\t\tfunction getSlideWidthStyle(fixedWidthTem, gutterTem, itemsTem) {\n\t\t\tvar width;\n\n\t\t\tif (fixedWidthTem) {\n\t\t\t\twidth = fixedWidthTem + gutterTem + 'px';\n\t\t\t} else {\n\t\t\t\tif (!carousel) {\n\t\t\t\t\titemsTem = Math.floor(itemsTem);\n\t\t\t\t}\n\t\t\t\tvar dividend = carousel ? slideCountNew : itemsTem;\n\t\t\t\twidth = CALC\n\t\t\t\t\t? CALC + '(100% / ' + dividend + ')'\n\t\t\t\t\t: 100 / dividend + '%';\n\t\t\t}\n\n\t\t\twidth = 'width:' + width;\n\n\t\t\t// inner slider: overwrite outer slider styles\n\t\t\treturn nested !== 'inner' ? width + ';' : width + ' !important;';\n\t\t}\n\n\t\tfunction getSlideGutterStyle(gutterTem) {\n\t\t\tvar str = '';\n\n\t\t\t// gutter maybe interger || 0\n\t\t\t// so can't use 'if (gutter)'\n\t\t\tif (gutterTem !== false) {\n\t\t\t\tvar prop = horizontal ? 'padding-' : 'margin-',\n\t\t\t\t\tdir = horizontal ? 'right' : 'bottom';\n\t\t\t\tstr = prop + dir + ': ' + gutterTem + 'px;';\n\t\t\t}\n\n\t\t\treturn str;\n\t\t}\n\n\t\tfunction getCSSPrefix(name, num) {\n\t\t\tvar prefix = name.substring(0, name.length - num).toLowerCase();\n\t\t\tif (prefix) {\n\t\t\t\tprefix = '-' + prefix + '-';\n\t\t\t}\n\n\t\t\treturn prefix;\n\t\t}\n\n\t\tfunction getTransitionDurationStyle(speed) {\n\t\t\treturn (\n\t\t\t\tgetCSSPrefix(TRANSITIONDURATION, 18) +\n\t\t\t\t'transition-duration:' +\n\t\t\t\tspeed / 1000 +\n\t\t\t\t's;'\n\t\t\t);\n\t\t}\n\n\t\tfunction getAnimationDurationStyle(speed) {\n\t\t\treturn (\n\t\t\t\tgetCSSPrefix(ANIMATIONDURATION, 17) +\n\t\t\t\t'animation-duration:' +\n\t\t\t\tspeed / 1000 +\n\t\t\t\t's;'\n\t\t\t);\n\t\t}\n\n\t\tfunction initStructure() {\n\t\t\tvar classOuter = 'tns-outer',\n\t\t\t\tclassInner = 'tns-inner',\n\t\t\t\thasGutter = hasOption('gutter');\n\n\t\t\touterWrapper.className = classOuter;\n\t\t\tinnerWrapper.className = classInner;\n\t\t\touterWrapper.id = slideId + '-ow';\n\t\t\tinnerWrapper.id = slideId + '-iw';\n\n\t\t\t// set container properties\n\t\t\tif (container.id === '') {\n\t\t\t\tcontainer.id = slideId;\n\t\t\t}\n\t\t\tnewContainerClasses +=\n\t\t\t\tPERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n\t\t\tnewContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n\t\t\tif (autoWidth) {\n\t\t\t\tnewContainerClasses += ' tns-autowidth';\n\t\t\t}\n\t\t\tnewContainerClasses += ' tns-' + options.axis;\n\t\t\tcontainer.className += newContainerClasses;\n\n\t\t\t// add constrain layer for carousel\n\t\t\tif (carousel) {\n\t\t\t\tmiddleWrapper = doc.createElement('div');\n\t\t\t\tmiddleWrapper.id = slideId + '-mw';\n\t\t\t\tmiddleWrapper.className = 'tns-ovh';\n\n\t\t\t\touterWrapper.appendChild(middleWrapper);\n\t\t\t\tmiddleWrapper.appendChild(innerWrapper);\n\t\t\t} else {\n\t\t\t\touterWrapper.appendChild(innerWrapper);\n\t\t\t}\n\n\t\t\tif (autoHeight) {\n\t\t\t\tvar wp = middleWrapper ? middleWrapper : innerWrapper;\n\t\t\t\twp.className += ' tns-ah';\n\t\t\t}\n\n\t\t\tcontainerParent.insertBefore(outerWrapper, container);\n\t\t\tinnerWrapper.appendChild(container);\n\n\t\t\t// add id, class, aria attributes\n\t\t\t// before clone slides\n\t\t\tforEach(slideItems, function (item, i) {\n\t\t\t\taddClass(item, 'tns-item');\n\t\t\t\tif (!item.id) {\n\t\t\t\t\titem.id = slideId + '-item' + i;\n\t\t\t\t}\n\t\t\t\tif (!carousel && animateNormal) {\n\t\t\t\t\taddClass(item, animateNormal);\n\t\t\t\t}\n\t\t\t\tsetAttrs(item, {\n\t\t\t\t\t'aria-hidden': 'true',\n\t\t\t\t\ttabindex: '-1',\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// ## clone slides\n\t\t\t// carousel: n + slides + n\n\t\t\t// gallery:      slides + n\n\t\t\tif (cloneCount) {\n\t\t\t\tvar fragmentBefore = doc.createDocumentFragment(),\n\t\t\t\t\tfragmentAfter = doc.createDocumentFragment();\n\n\t\t\t\tfor (var j = cloneCount; j--; ) {\n\t\t\t\t\tvar num = j % slideCount,\n\t\t\t\t\t\tcloneFirst = slideItems[num].cloneNode(true);\n\t\t\t\t\taddClass(cloneFirst, slideClonedClass);\n\t\t\t\t\tremoveAttrs(cloneFirst, 'id');\n\t\t\t\t\tfragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\tvar cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n\t\t\t\t\t\taddClass(cloneLast, slideClonedClass);\n\t\t\t\t\t\tremoveAttrs(cloneLast, 'id');\n\t\t\t\t\t\tfragmentBefore.appendChild(cloneLast);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontainer.insertBefore(fragmentBefore, container.firstChild);\n\t\t\t\tcontainer.appendChild(fragmentAfter);\n\t\t\t\tslideItems = container.children;\n\t\t\t}\n\t\t}\n\n\t\tfunction initSliderTransform() {\n\t\t\t// ## images loaded/failed\n\t\t\tif (hasOption('autoHeight') || autoWidth || !horizontal) {\n\t\t\t\tvar imgs = container.querySelectorAll('img');\n\n\t\t\t\t// add img load event listener\n\t\t\t\tforEach(imgs, function (img) {\n\t\t\t\t\tvar src = img.src;\n\n\t\t\t\t\tif (!lazyload) {\n\t\t\t\t\t\t// not data img\n\t\t\t\t\t\tif (src && src.indexOf('data:image') < 0) {\n\t\t\t\t\t\t\timg.src = '';\n\t\t\t\t\t\t\taddEvents(img, imgEvents);\n\t\t\t\t\t\t\taddClass(img, 'loading');\n\n\t\t\t\t\t\t\timg.src = src;\n\t\t\t\t\t\t\t// data img\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\timgLoaded(img);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// set imgsComplete\n\t\t\t\traf(function () {\n\t\t\t\t\timgsLoadedCheck(arrayFromNodeList(imgs), function () {\n\t\t\t\t\t\timgsComplete = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\t// reset imgs for auto height: check visible imgs only\n\t\t\t\tif (hasOption('autoHeight')) {\n\t\t\t\t\timgs = getImageArray(\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\tMath.min(index + items - 1, slideCountNew - 1)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tlazyload\n\t\t\t\t\t? initSliderTransformStyleCheck()\n\t\t\t\t\t: raf(function () {\n\t\t\t\t\t\t\timgsLoadedCheck(\n\t\t\t\t\t\t\t\tarrayFromNodeList(imgs),\n\t\t\t\t\t\t\t\tinitSliderTransformStyleCheck\n\t\t\t\t\t\t\t);\n\t\t\t\t\t  });\n\t\t\t} else {\n\t\t\t\t// set container transform property\n\t\t\t\tif (carousel) {\n\t\t\t\t\tdoContainerTransformSilent();\n\t\t\t\t}\n\n\t\t\t\t// update slider tools and events\n\t\t\t\tinitTools();\n\t\t\t\tinitEvents();\n\t\t\t}\n\t\t}\n\n\t\tfunction initSliderTransformStyleCheck() {\n\t\t\tif (autoWidth && slideCount > 1) {\n\t\t\t\t// check styles application\n\t\t\t\tvar num = loop ? index : slideCount - 1;\n\n\t\t\t\t(function stylesApplicationCheck() {\n\t\t\t\t\tvar left = slideItems[num].getBoundingClientRect().left;\n\t\t\t\t\tvar right = slideItems[num - 1].getBoundingClientRect().right;\n\n\t\t\t\t\tMath.abs(left - right) <= 1\n\t\t\t\t\t\t? initSliderTransformCore()\n\t\t\t\t\t\t: setTimeout(function () {\n\t\t\t\t\t\t\t\tstylesApplicationCheck();\n\t\t\t\t\t\t  }, 16);\n\t\t\t\t})();\n\t\t\t} else {\n\t\t\t\tinitSliderTransformCore();\n\t\t\t}\n\t\t}\n\n\t\tfunction initSliderTransformCore() {\n\t\t\t// run Fn()s which are rely on image loading\n\t\t\tif (!horizontal || autoWidth) {\n\t\t\t\tsetSlidePositions();\n\n\t\t\t\tif (autoWidth) {\n\t\t\t\t\trightBoundary = getRightBoundary();\n\t\t\t\t\tif (freezable) {\n\t\t\t\t\t\tfreeze = getFreeze();\n\t\t\t\t\t}\n\t\t\t\t\tindexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n\t\t\t\t\tresetVariblesWhenDisable(disable || freeze);\n\t\t\t\t} else {\n\t\t\t\t\tupdateContentWrapperHeight();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// set container transform property\n\t\t\tif (carousel) {\n\t\t\t\tdoContainerTransformSilent();\n\t\t\t}\n\n\t\t\t// update slider tools and events\n\t\t\tinitTools();\n\t\t\tinitEvents();\n\t\t}\n\n\t\tfunction initSheet() {\n\t\t\t// gallery:\n\t\t\t// set animation classes and left value for gallery slider\n\t\t\tif (!carousel) {\n\t\t\t\tfor (\n\t\t\t\t\tvar i = index, l = index + Math.min(slideCount, items);\n\t\t\t\t\ti < l;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tvar item = slideItems[i];\n\t\t\t\t\titem.style.left = ((i - index) * 100) / items + '%';\n\t\t\t\t\taddClass(item, animateIn);\n\t\t\t\t\tremoveClass(item, animateNormal);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// #### LAYOUT\n\n\t\t\t// ## INLINE-BLOCK VS FLOAT\n\n\t\t\t// ## PercentageLayout:\n\t\t\t// slides: inline-block\n\t\t\t// remove blank space between slides by set font-size: 0\n\n\t\t\t// ## Non PercentageLayout:\n\t\t\t// slides: float\n\t\t\t//         margin-right: -100%\n\t\t\t//         margin-left: ~\n\n\t\t\t// Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n\t\t\tif (horizontal) {\n\t\t\t\tif (PERCENTAGELAYOUT || autoWidth) {\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'#' + slideId + ' > .tns-item',\n\t\t\t\t\t\t'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';',\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'#' + slideId,\n\t\t\t\t\t\t'font-size:0;',\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t} else if (carousel) {\n\t\t\t\t\tforEach(slideItems, function (slide, i) {\n\t\t\t\t\t\tslide.style.marginLeft = getSlideMarginLeft(i);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ## BASIC STYLES\n\t\t\tif (CSSMQ) {\n\t\t\t\t// middle wrapper style\n\t\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\t\tvar str =\n\t\t\t\t\t\tmiddleWrapper && options.autoHeight\n\t\t\t\t\t\t\t? getTransitionDurationStyle(options.speed)\n\t\t\t\t\t\t\t: '';\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'#' + slideId + '-mw',\n\t\t\t\t\t\tstr,\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// inner wrapper styles\n\t\t\t\tstr = getInnerWrapperStyles(\n\t\t\t\t\toptions.edgePadding,\n\t\t\t\t\toptions.gutter,\n\t\t\t\t\toptions.fixedWidth,\n\t\t\t\t\toptions.speed,\n\t\t\t\t\toptions.autoHeight\n\t\t\t\t);\n\t\t\t\taddCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n\t\t\t\t// container styles\n\t\t\t\tif (carousel) {\n\t\t\t\t\tstr =\n\t\t\t\t\t\thorizontal && !autoWidth\n\t\t\t\t\t\t\t? 'width:' +\n\t\t\t\t\t\t\t  getContainerWidth(\n\t\t\t\t\t\t\t\t\toptions.fixedWidth,\n\t\t\t\t\t\t\t\t\toptions.gutter,\n\t\t\t\t\t\t\t\t\toptions.items\n\t\t\t\t\t\t\t  ) +\n\t\t\t\t\t\t\t  ';'\n\t\t\t\t\t\t\t: '';\n\t\t\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\t\t\tstr += getTransitionDurationStyle(speed);\n\t\t\t\t\t}\n\t\t\t\t\taddCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n\t\t\t\t}\n\n\t\t\t\t// slide styles\n\t\t\t\tstr =\n\t\t\t\t\thorizontal && !autoWidth\n\t\t\t\t\t\t? getSlideWidthStyle(\n\t\t\t\t\t\t\t\toptions.fixedWidth,\n\t\t\t\t\t\t\t\toptions.gutter,\n\t\t\t\t\t\t\t\toptions.items\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: '';\n\t\t\t\tif (options.gutter) {\n\t\t\t\t\tstr += getSlideGutterStyle(options.gutter);\n\t\t\t\t}\n\t\t\t\t// set gallery items transition-duration\n\t\t\t\tif (!carousel) {\n\t\t\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\t\t\tstr += getTransitionDurationStyle(speed);\n\t\t\t\t\t}\n\t\t\t\t\tif (ANIMATIONDURATION) {\n\t\t\t\t\t\tstr += getAnimationDurationStyle(speed);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (str) {\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'#' + slideId + ' > .tns-item',\n\t\t\t\t\t\tstr,\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// non CSS mediaqueries: IE8\n\t\t\t\t// ## update inner wrapper, container, slides if needed\n\t\t\t\t// set inline styles for inner wrapper & container\n\t\t\t\t// insert stylesheet (one line) for slides only (since slides are many)\n\t\t\t} else {\n\t\t\t\t// middle wrapper styles\n\t\t\t\tupdate_carousel_transition_duration();\n\n\t\t\t\t// inner wrapper styles\n\t\t\t\tinnerWrapper.style.cssText = getInnerWrapperStyles(\n\t\t\t\t\tedgePadding,\n\t\t\t\t\tgutter,\n\t\t\t\t\tfixedWidth,\n\t\t\t\t\tautoHeight\n\t\t\t\t);\n\n\t\t\t\t// container styles\n\t\t\t\tif (carousel && horizontal && !autoWidth) {\n\t\t\t\t\tcontainer.style.width = getContainerWidth(fixedWidth, gutter, items);\n\t\t\t\t}\n\n\t\t\t\t// slide styles\n\t\t\t\tvar str =\n\t\t\t\t\thorizontal && !autoWidth\n\t\t\t\t\t\t? getSlideWidthStyle(fixedWidth, gutter, items)\n\t\t\t\t\t\t: '';\n\t\t\t\tif (gutter) {\n\t\t\t\t\tstr += getSlideGutterStyle(gutter);\n\t\t\t\t}\n\n\t\t\t\t// append to the last line\n\t\t\t\tif (str) {\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'#' + slideId + ' > .tns-item',\n\t\t\t\t\t\tstr,\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ## MEDIAQUERIES\n\t\t\tif (responsive && CSSMQ) {\n\t\t\t\tfor (var bp in responsive) {\n\t\t\t\t\t// bp: convert string to number\n\t\t\t\t\tbp = parseInt(bp);\n\n\t\t\t\t\tvar opts = responsive[bp],\n\t\t\t\t\t\tstr = '',\n\t\t\t\t\t\tmiddleWrapperStr = '',\n\t\t\t\t\t\tinnerWrapperStr = '',\n\t\t\t\t\t\tcontainerStr = '',\n\t\t\t\t\t\tslideStr = '',\n\t\t\t\t\t\titemsBP = !autoWidth ? getOption('items', bp) : null,\n\t\t\t\t\t\tfixedWidthBP = getOption('fixedWidth', bp),\n\t\t\t\t\t\tspeedBP = getOption('speed', bp),\n\t\t\t\t\t\tedgePaddingBP = getOption('edgePadding', bp),\n\t\t\t\t\t\tautoHeightBP = getOption('autoHeight', bp),\n\t\t\t\t\t\tgutterBP = getOption('gutter', bp);\n\n\t\t\t\t\t// middle wrapper string\n\t\t\t\t\tif (\n\t\t\t\t\t\tTRANSITIONDURATION &&\n\t\t\t\t\t\tmiddleWrapper &&\n\t\t\t\t\t\tgetOption('autoHeight', bp) &&\n\t\t\t\t\t\t'speed' in opts\n\t\t\t\t\t) {\n\t\t\t\t\t\tmiddleWrapperStr =\n\t\t\t\t\t\t\t'#' +\n\t\t\t\t\t\t\tslideId +\n\t\t\t\t\t\t\t'-mw{' +\n\t\t\t\t\t\t\tgetTransitionDurationStyle(speedBP) +\n\t\t\t\t\t\t\t'}';\n\t\t\t\t\t}\n\n\t\t\t\t\t// inner wrapper string\n\t\t\t\t\tif ('edgePadding' in opts || 'gutter' in opts) {\n\t\t\t\t\t\tinnerWrapperStr =\n\t\t\t\t\t\t\t'#' +\n\t\t\t\t\t\t\tslideId +\n\t\t\t\t\t\t\t'-iw{' +\n\t\t\t\t\t\t\tgetInnerWrapperStyles(\n\t\t\t\t\t\t\t\tedgePaddingBP,\n\t\t\t\t\t\t\t\tgutterBP,\n\t\t\t\t\t\t\t\tfixedWidthBP,\n\t\t\t\t\t\t\t\tspeedBP,\n\t\t\t\t\t\t\t\tautoHeightBP\n\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t'}';\n\t\t\t\t\t}\n\n\t\t\t\t\t// container string\n\t\t\t\t\tif (\n\t\t\t\t\t\tcarousel &&\n\t\t\t\t\t\thorizontal &&\n\t\t\t\t\t\t!autoWidth &&\n\t\t\t\t\t\t('fixedWidth' in opts ||\n\t\t\t\t\t\t\t'items' in opts ||\n\t\t\t\t\t\t\t(fixedWidth && 'gutter' in opts))\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainerStr =\n\t\t\t\t\t\t\t'width:' +\n\t\t\t\t\t\t\tgetContainerWidth(fixedWidthBP, gutterBP, itemsBP) +\n\t\t\t\t\t\t\t';';\n\t\t\t\t\t}\n\t\t\t\t\tif (TRANSITIONDURATION && 'speed' in opts) {\n\t\t\t\t\t\tcontainerStr += getTransitionDurationStyle(speedBP);\n\t\t\t\t\t}\n\t\t\t\t\tif (containerStr) {\n\t\t\t\t\t\tcontainerStr = '#' + slideId + '{' + containerStr + '}';\n\t\t\t\t\t}\n\n\t\t\t\t\t// slide string\n\t\t\t\t\tif (\n\t\t\t\t\t\t'fixedWidth' in opts ||\n\t\t\t\t\t\t(fixedWidth && 'gutter' in opts) ||\n\t\t\t\t\t\t(!carousel && 'items' in opts)\n\t\t\t\t\t) {\n\t\t\t\t\t\tslideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n\t\t\t\t\t}\n\t\t\t\t\tif ('gutter' in opts) {\n\t\t\t\t\t\tslideStr += getSlideGutterStyle(gutterBP);\n\t\t\t\t\t}\n\t\t\t\t\t// set gallery items transition-duration\n\t\t\t\t\tif (!carousel && 'speed' in opts) {\n\t\t\t\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\t\t\t\tslideStr += getTransitionDurationStyle(speedBP);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (ANIMATIONDURATION) {\n\t\t\t\t\t\t\tslideStr += getAnimationDurationStyle(speedBP);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (slideStr) {\n\t\t\t\t\t\tslideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}';\n\t\t\t\t\t}\n\n\t\t\t\t\t// add up\n\t\t\t\t\tstr = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n\t\t\t\t\tif (str) {\n\t\t\t\t\t\tsheet.insertRule(\n\t\t\t\t\t\t\t'@media (min-width: ' + bp / 16 + 'em) {' + str + '}',\n\t\t\t\t\t\t\tsheet.cssRules.length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction initTools() {\n\t\t\t// == slides ==\n\t\t\tupdateSlideStatus();\n\n\t\t\t// == live region ==\n\t\t\touterWrapper.insertAdjacentHTML(\n\t\t\t\t'afterbegin',\n\t\t\t\t'<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' +\n\t\t\t\t\tgetLiveRegionStr() +\n\t\t\t\t\t'</span>  of ' +\n\t\t\t\t\tslideCount +\n\t\t\t\t\t'</div>'\n\t\t\t);\n\t\t\tliveregionCurrent = outerWrapper.querySelector(\n\t\t\t\t'.tns-liveregion .current'\n\t\t\t);\n\n\t\t\t// == autoplayInit ==\n\t\t\tif (hasAutoplay) {\n\t\t\t\tvar txt = autoplay ? 'stop' : 'start';\n\t\t\t\tif (autoplayButton) {\n\t\t\t\t\tsetAttrs(autoplayButton, { 'data-action': txt });\n\t\t\t\t} else if (options.autoplayButtonOutput) {\n\t\t\t\t\touterWrapper.insertAdjacentHTML(\n\t\t\t\t\t\tgetInsertPosition(options.autoplayPosition),\n\t\t\t\t\t\t'<button type=\"button\" data-action=\"' +\n\t\t\t\t\t\t\ttxt +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\tautoplayHtmlStrings[0] +\n\t\t\t\t\t\t\ttxt +\n\t\t\t\t\t\t\tautoplayHtmlStrings[1] +\n\t\t\t\t\t\t\tautoplayText[0] +\n\t\t\t\t\t\t\t'</button>'\n\t\t\t\t\t);\n\t\t\t\t\tautoplayButton = outerWrapper.querySelector('[data-action]');\n\t\t\t\t}\n\n\t\t\t\t// add event\n\t\t\t\tif (autoplayButton) {\n\t\t\t\t\taddEvents(autoplayButton, { click: toggleAutoplay });\n\t\t\t\t}\n\n\t\t\t\tif (autoplay) {\n\t\t\t\t\tstartAutoplay();\n\t\t\t\t\tif (autoplayHoverPause) {\n\t\t\t\t\t\taddEvents(container, hoverEvents);\n\t\t\t\t\t}\n\t\t\t\t\tif (autoplayResetOnVisibility) {\n\t\t\t\t\t\taddEvents(container, visibilityEvent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// == navInit ==\n\t\t\tif (hasNav) {\n\t\t\t\tvar initIndex = !carousel ? 0 : cloneCount;\n\t\t\t\t// customized nav\n\t\t\t\t// will not hide the navs in case they're thumbnails\n\t\t\t\tif (navContainer) {\n\t\t\t\t\tsetAttrs(navContainer, { 'aria-label': 'Carousel Pagination' });\n\t\t\t\t\tnavItems = navContainer.children;\n\t\t\t\t\tforEach(navItems, function (item, i) {\n\t\t\t\t\t\tsetAttrs(item, {\n\t\t\t\t\t\t\t'data-nav': i,\n\t\t\t\t\t\t\ttabindex: '-1',\n\t\t\t\t\t\t\t'aria-label': navStr + (i + 1),\n\t\t\t\t\t\t\t'aria-controls': slideId,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// generated nav\n\t\t\t\t} else {\n\t\t\t\t\tvar navHtml = '',\n\t\t\t\t\t\thiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n\t\t\t\t\tfor (var i = 0; i < slideCount; i++) {\n\t\t\t\t\t\t// hide nav items by default\n\t\t\t\t\t\tnavHtml +=\n\t\t\t\t\t\t\t'<button type=\"button\" data-nav=\"' +\n\t\t\t\t\t\t\ti +\n\t\t\t\t\t\t\t'\" tabindex=\"-1\" aria-controls=\"' +\n\t\t\t\t\t\t\tslideId +\n\t\t\t\t\t\t\t'\" ' +\n\t\t\t\t\t\t\thiddenStr +\n\t\t\t\t\t\t\t' aria-label=\"' +\n\t\t\t\t\t\t\tnavStr +\n\t\t\t\t\t\t\t(i + 1) +\n\t\t\t\t\t\t\t'\"></button>';\n\t\t\t\t\t}\n\t\t\t\t\tnavHtml =\n\t\t\t\t\t\t'<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' +\n\t\t\t\t\t\tnavHtml +\n\t\t\t\t\t\t'</div>';\n\t\t\t\t\touterWrapper.insertAdjacentHTML(\n\t\t\t\t\t\tgetInsertPosition(options.navPosition),\n\t\t\t\t\t\tnavHtml\n\t\t\t\t\t);\n\n\t\t\t\t\tnavContainer = outerWrapper.querySelector('.tns-nav');\n\t\t\t\t\tnavItems = navContainer.children;\n\t\t\t\t}\n\n\t\t\t\tupdateNavVisibility();\n\n\t\t\t\t// add transition\n\t\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\t\tvar prefix = TRANSITIONDURATION.substring(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tTRANSITIONDURATION.length - 18\n\t\t\t\t\t\t).toLowerCase(),\n\t\t\t\t\t\tstr = 'transition: all ' + speed / 1000 + 's';\n\n\t\t\t\t\tif (prefix) {\n\t\t\t\t\t\tstr = '-' + prefix + '-' + str;\n\t\t\t\t\t}\n\n\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t'[aria-controls^=' + slideId + '-item]',\n\t\t\t\t\t\tstr,\n\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tsetAttrs(navItems[navCurrentIndex], {\n\t\t\t\t\t'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent,\n\t\t\t\t});\n\t\t\t\tremoveAttrs(navItems[navCurrentIndex], 'tabindex');\n\t\t\t\taddClass(navItems[navCurrentIndex], navActiveClass);\n\n\t\t\t\t// add events\n\t\t\t\taddEvents(navContainer, navEvents);\n\t\t\t}\n\n\t\t\t// == controlsInit ==\n\t\t\tif (hasControls) {\n\t\t\t\tif (!controlsContainer && (!prevButton || !nextButton)) {\n\t\t\t\t\touterWrapper.insertAdjacentHTML(\n\t\t\t\t\t\tgetInsertPosition(options.controlsPosition),\n\t\t\t\t\t\t'<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button type=\"button\" data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' +\n\t\t\t\t\t\t\tslideId +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\tcontrolsText[0] +\n\t\t\t\t\t\t\t'</button><button type=\"button\" data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' +\n\t\t\t\t\t\t\tslideId +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\tcontrolsText[1] +\n\t\t\t\t\t\t\t'</button></div>'\n\t\t\t\t\t);\n\n\t\t\t\t\tcontrolsContainer = outerWrapper.querySelector('.tns-controls');\n\t\t\t\t}\n\n\t\t\t\tif (!prevButton || !nextButton) {\n\t\t\t\t\tprevButton = controlsContainer.children[0];\n\t\t\t\t\tnextButton = controlsContainer.children[1];\n\t\t\t\t}\n\n\t\t\t\tif (options.controlsContainer) {\n\t\t\t\t\tsetAttrs(controlsContainer, {\n\t\t\t\t\t\t'aria-label': 'Carousel Navigation',\n\t\t\t\t\t\ttabindex: '0',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\toptions.controlsContainer ||\n\t\t\t\t\t(options.prevButton && options.nextButton)\n\t\t\t\t) {\n\t\t\t\t\tsetAttrs([prevButton, nextButton], {\n\t\t\t\t\t\t'aria-controls': slideId,\n\t\t\t\t\t\ttabindex: '-1',\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\toptions.controlsContainer ||\n\t\t\t\t\t(options.prevButton && options.nextButton)\n\t\t\t\t) {\n\t\t\t\t\tsetAttrs(prevButton, { 'data-controls': 'prev' });\n\t\t\t\t\tsetAttrs(nextButton, { 'data-controls': 'next' });\n\t\t\t\t}\n\n\t\t\t\tprevIsButton = isButton(prevButton);\n\t\t\t\tnextIsButton = isButton(nextButton);\n\n\t\t\t\tupdateControlsStatus();\n\n\t\t\t\t// add events\n\t\t\t\tif (controlsContainer) {\n\t\t\t\t\taddEvents(controlsContainer, controlsEvents);\n\t\t\t\t} else {\n\t\t\t\t\taddEvents(prevButton, controlsEvents);\n\t\t\t\t\taddEvents(nextButton, controlsEvents);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// hide tools if needed\n\t\t\tdisableUI();\n\t\t}\n\n\t\tfunction initEvents() {\n\t\t\t// add events\n\t\t\tif (carousel && TRANSITIONEND) {\n\t\t\t\tvar eve = {};\n\t\t\t\teve[TRANSITIONEND] = onTransitionEnd;\n\t\t\t\taddEvents(container, eve);\n\t\t\t}\n\n\t\t\tif (touch) {\n\t\t\t\taddEvents(container, touchEvents, options.preventScrollOnTouch);\n\t\t\t}\n\t\t\tif (mouseDrag) {\n\t\t\t\taddEvents(container, dragEvents);\n\t\t\t}\n\t\t\tif (arrowKeys) {\n\t\t\t\taddEvents(doc, docmentKeydownEvent);\n\t\t\t}\n\n\t\t\tif (nested === 'inner') {\n\t\t\t\tevents.on('outerResized', function () {\n\t\t\t\t\tresizeTasks();\n\t\t\t\t\tevents.emit('innerLoaded', info());\n\t\t\t\t});\n\t\t\t} else if (\n\t\t\t\tresponsive ||\n\t\t\t\tfixedWidth ||\n\t\t\t\tautoWidth ||\n\t\t\t\tautoHeight ||\n\t\t\t\t!horizontal\n\t\t\t) {\n\t\t\t\taddEvents(win, { resize: onResize });\n\t\t\t}\n\n\t\t\tif (autoHeight) {\n\t\t\t\tif (nested === 'outer') {\n\t\t\t\t\tevents.on('innerLoaded', doAutoHeight);\n\t\t\t\t} else if (!disable) {\n\t\t\t\t\tdoAutoHeight();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdoLazyLoad();\n\t\t\tif (disable) {\n\t\t\t\tdisableSlider();\n\t\t\t} else if (freeze) {\n\t\t\t\tfreezeSlider();\n\t\t\t}\n\n\t\t\tevents.on('indexChanged', additionalUpdates);\n\t\t\tif (nested === 'inner') {\n\t\t\t\tevents.emit('innerLoaded', info());\n\t\t\t}\n\t\t\tif (typeof onInit === 'function') {\n\t\t\t\tonInit(info());\n\t\t\t}\n\t\t\tisOn = true;\n\t\t}\n\n\t\tfunction destroy() {\n\t\t\t// sheet\n\t\t\tsheet.disabled = true;\n\t\t\tif (sheet.ownerNode) {\n\t\t\t\tsheet.ownerNode.remove();\n\t\t\t}\n\n\t\t\t// remove win event listeners\n\t\t\tremoveEvents(win, { resize: onResize });\n\n\t\t\t// arrowKeys, controls, nav\n\t\t\tif (arrowKeys) {\n\t\t\t\tremoveEvents(doc, docmentKeydownEvent);\n\t\t\t}\n\t\t\tif (controlsContainer) {\n\t\t\t\tremoveEvents(controlsContainer, controlsEvents);\n\t\t\t}\n\t\t\tif (navContainer) {\n\t\t\t\tremoveEvents(navContainer, navEvents);\n\t\t\t}\n\n\t\t\t// autoplay\n\t\t\tremoveEvents(container, hoverEvents);\n\t\t\tremoveEvents(container, visibilityEvent);\n\t\t\tif (autoplayButton) {\n\t\t\t\tremoveEvents(autoplayButton, { click: toggleAutoplay });\n\t\t\t}\n\t\t\tif (autoplay) {\n\t\t\t\tclearInterval(autoplayTimer);\n\t\t\t}\n\n\t\t\t// container\n\t\t\tif (carousel && TRANSITIONEND) {\n\t\t\t\tvar eve = {};\n\t\t\t\teve[TRANSITIONEND] = onTransitionEnd;\n\t\t\t\tremoveEvents(container, eve);\n\t\t\t}\n\t\t\tif (touch) {\n\t\t\t\tremoveEvents(container, touchEvents);\n\t\t\t}\n\t\t\tif (mouseDrag) {\n\t\t\t\tremoveEvents(container, dragEvents);\n\t\t\t}\n\n\t\t\t// cache Object values in options && reset HTML\n\t\t\tvar htmlList = [\n\t\t\t\tcontainerHTML,\n\t\t\t\tcontrolsContainerHTML,\n\t\t\t\tprevButtonHTML,\n\t\t\t\tnextButtonHTML,\n\t\t\t\tnavContainerHTML,\n\t\t\t\tautoplayButtonHTML,\n\t\t\t];\n\n\t\t\ttnsList.forEach(function (item, i) {\n\t\t\t\tvar el = item === 'container' ? outerWrapper : options[item];\n\n\t\t\t\tif (typeof el === 'object' && el) {\n\t\t\t\t\tvar prevEl = el.previousElementSibling\n\t\t\t\t\t\t\t? el.previousElementSibling\n\t\t\t\t\t\t\t: false,\n\t\t\t\t\t\tparentEl = el.parentNode;\n\t\t\t\t\tel.outerHTML = htmlList[i];\n\t\t\t\t\toptions[item] = prevEl\n\t\t\t\t\t\t? prevEl.nextElementSibling\n\t\t\t\t\t\t: parentEl.firstElementChild;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// reset variables\n\t\t\ttnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null;\n\t\t\t// check variables\n\t\t\t// [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n\t\t\tfor (var a in this) {\n\t\t\t\tif (a !== 'rebuild') {\n\t\t\t\t\tthis[a] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tisOn = false;\n\t\t}\n\n\t\t// === ON RESIZE ===\n\t\t// responsive || fixedWidth || autoWidth || !horizontal\n\t\tfunction onResize(e) {\n\t\t\traf(function () {\n\t\t\t\tresizeTasks(getEvent(e));\n\t\t\t});\n\t\t}\n\n\t\tfunction resizeTasks(e) {\n\t\t\tif (!isOn) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (nested === 'outer') {\n\t\t\t\tevents.emit('outerResized', info(e));\n\t\t\t}\n\t\t\twindowWidth = getWindowWidth();\n\t\t\tvar bpChanged,\n\t\t\t\tbreakpointZoneTem = breakpointZone,\n\t\t\t\tneedContainerTransform = false;\n\n\t\t\tif (responsive) {\n\t\t\t\tsetBreakpointZone();\n\t\t\t\tbpChanged = breakpointZoneTem !== breakpointZone;\n\t\t\t\t// if (hasRightDeadZone) { needContainerTransform = true; } // *?\n\t\t\t\tif (bpChanged) {\n\t\t\t\t\tevents.emit('newBreakpointStart', info(e));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar indChanged,\n\t\t\t\titemsChanged,\n\t\t\t\titemsTem = items,\n\t\t\t\tdisableTem = disable,\n\t\t\t\tfreezeTem = freeze,\n\t\t\t\tarrowKeysTem = arrowKeys,\n\t\t\t\tcontrolsTem = controls,\n\t\t\t\tnavTem = nav,\n\t\t\t\ttouchTem = touch,\n\t\t\t\tmouseDragTem = mouseDrag,\n\t\t\t\tautoplayTem = autoplay,\n\t\t\t\tautoplayHoverPauseTem = autoplayHoverPause,\n\t\t\t\tautoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n\t\t\t\tindexTem = index;\n\n\t\t\tif (bpChanged) {\n\t\t\t\tvar fixedWidthTem = fixedWidth,\n\t\t\t\t\tautoHeightTem = autoHeight,\n\t\t\t\t\tcontrolsTextTem = controlsText,\n\t\t\t\t\tcenterTem = center,\n\t\t\t\t\tautoplayTextTem = autoplayText;\n\n\t\t\t\tif (!CSSMQ) {\n\t\t\t\t\tvar gutterTem = gutter,\n\t\t\t\t\t\tedgePaddingTem = edgePadding;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// get option:\n\t\t\t// fixed width: viewport, fixedWidth, gutter => items\n\t\t\t// others: window width => all variables\n\t\t\t// all: items => slideBy\n\t\t\tarrowKeys = getOption('arrowKeys');\n\t\t\tcontrols = getOption('controls');\n\t\t\tnav = getOption('nav');\n\t\t\ttouch = getOption('touch');\n\t\t\tcenter = getOption('center');\n\t\t\tmouseDrag = getOption('mouseDrag');\n\t\t\tautoplay = getOption('autoplay');\n\t\t\tautoplayHoverPause = getOption('autoplayHoverPause');\n\t\t\tautoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n\t\t\tif (bpChanged) {\n\t\t\t\tdisable = getOption('disable');\n\t\t\t\tfixedWidth = getOption('fixedWidth');\n\t\t\t\tspeed = getOption('speed');\n\t\t\t\tautoHeight = getOption('autoHeight');\n\t\t\t\tcontrolsText = getOption('controlsText');\n\t\t\t\tautoplayText = getOption('autoplayText');\n\t\t\t\tautoplayTimeout = getOption('autoplayTimeout');\n\n\t\t\t\tif (!CSSMQ) {\n\t\t\t\t\tedgePadding = getOption('edgePadding');\n\t\t\t\t\tgutter = getOption('gutter');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// update options\n\t\t\tresetVariblesWhenDisable(disable);\n\n\t\t\tviewport = getViewportWidth(); // <= edgePadding, gutter\n\t\t\tif ((!horizontal || autoWidth) && !disable) {\n\t\t\t\tsetSlidePositions();\n\t\t\t\tif (!horizontal) {\n\t\t\t\t\tupdateContentWrapperHeight(); // <= setSlidePositions\n\t\t\t\t\tneedContainerTransform = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (fixedWidth || autoWidth) {\n\t\t\t\trightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n\t\t\t\t// fixedWidth: <= viewport, fixedWidth, gutter\n\t\t\t\tindexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n\t\t\t\t// fixedWidth: <= rightBoundary, fixedWidth, gutter\n\t\t\t}\n\n\t\t\tif (bpChanged || fixedWidth) {\n\t\t\t\titems = getOption('items');\n\t\t\t\tslideBy = getOption('slideBy');\n\t\t\t\titemsChanged = items !== itemsTem;\n\n\t\t\t\tif (itemsChanged) {\n\t\t\t\t\tif (!fixedWidth && !autoWidth) {\n\t\t\t\t\t\tindexMax = getIndexMax();\n\t\t\t\t\t} // <= items\n\t\t\t\t\t// check index before transform in case\n\t\t\t\t\t// slider reach the right edge then items become bigger\n\t\t\t\t\tupdateIndex();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (bpChanged) {\n\t\t\t\tif (disable !== disableTem) {\n\t\t\t\t\tif (disable) {\n\t\t\t\t\t\tdisableSlider();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tenableSlider(); // <= slidePositions, rightBoundary, indexMax\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (freezable && (bpChanged || fixedWidth || autoWidth)) {\n\t\t\t\tfreeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n\t\t\t\t// <= fixedWidth: fixedWidth, gutter, rightBoundary\n\t\t\t\t// <= others: items\n\n\t\t\t\tif (freeze !== freezeTem) {\n\t\t\t\t\tif (freeze) {\n\t\t\t\t\t\tdoContainerTransform(getContainerTransformValue(getStartIndex(0)));\n\t\t\t\t\t\tfreezeSlider();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunfreezeSlider();\n\t\t\t\t\t\tneedContainerTransform = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n\t\t\tif (!autoplay) {\n\t\t\t\tautoplayHoverPause = autoplayResetOnVisibility = false;\n\t\t\t}\n\n\t\t\tif (arrowKeys !== arrowKeysTem) {\n\t\t\t\tarrowKeys\n\t\t\t\t\t? addEvents(doc, docmentKeydownEvent)\n\t\t\t\t\t: removeEvents(doc, docmentKeydownEvent);\n\t\t\t}\n\t\t\tif (controls !== controlsTem) {\n\t\t\t\tif (controls) {\n\t\t\t\t\tif (controlsContainer) {\n\t\t\t\t\t\tshowElement(controlsContainer);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (prevButton) {\n\t\t\t\t\t\t\tshowElement(prevButton);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nextButton) {\n\t\t\t\t\t\t\tshowElement(nextButton);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (controlsContainer) {\n\t\t\t\t\t\thideElement(controlsContainer);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (prevButton) {\n\t\t\t\t\t\t\thideElement(prevButton);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nextButton) {\n\t\t\t\t\t\t\thideElement(nextButton);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nav !== navTem) {\n\t\t\t\tif (nav) {\n\t\t\t\t\tshowElement(navContainer);\n\t\t\t\t\tupdateNavVisibility();\n\t\t\t\t} else {\n\t\t\t\t\thideElement(navContainer);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (touch !== touchTem) {\n\t\t\t\ttouch\n\t\t\t\t\t? addEvents(container, touchEvents, options.preventScrollOnTouch)\n\t\t\t\t\t: removeEvents(container, touchEvents);\n\t\t\t}\n\t\t\tif (mouseDrag !== mouseDragTem) {\n\t\t\t\tmouseDrag\n\t\t\t\t\t? addEvents(container, dragEvents)\n\t\t\t\t\t: removeEvents(container, dragEvents);\n\t\t\t}\n\t\t\tif (autoplay !== autoplayTem) {\n\t\t\t\tif (autoplay) {\n\t\t\t\t\tif (autoplayButton) {\n\t\t\t\t\t\tshowElement(autoplayButton);\n\t\t\t\t\t}\n\t\t\t\t\tif (!animating && !autoplayUserPaused) {\n\t\t\t\t\t\tstartAutoplay();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (autoplayButton) {\n\t\t\t\t\t\thideElement(autoplayButton);\n\t\t\t\t\t}\n\t\t\t\t\tif (animating) {\n\t\t\t\t\t\tstopAutoplay();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (autoplayHoverPause !== autoplayHoverPauseTem) {\n\t\t\t\tautoplayHoverPause\n\t\t\t\t\t? addEvents(container, hoverEvents)\n\t\t\t\t\t: removeEvents(container, hoverEvents);\n\t\t\t}\n\t\t\tif (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n\t\t\t\tautoplayResetOnVisibility\n\t\t\t\t\t? addEvents(doc, visibilityEvent)\n\t\t\t\t\t: removeEvents(doc, visibilityEvent);\n\t\t\t}\n\n\t\t\tif (bpChanged) {\n\t\t\t\tif (fixedWidth !== fixedWidthTem || center !== centerTem) {\n\t\t\t\t\tneedContainerTransform = true;\n\t\t\t\t}\n\n\t\t\t\tif (autoHeight !== autoHeightTem) {\n\t\t\t\t\tif (!autoHeight) {\n\t\t\t\t\t\tinnerWrapper.style.height = '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (controls && controlsText !== controlsTextTem) {\n\t\t\t\t\tprevButton.innerHTML = controlsText[0];\n\t\t\t\t\tnextButton.innerHTML = controlsText[1];\n\t\t\t\t}\n\n\t\t\t\tif (autoplayButton && autoplayText !== autoplayTextTem) {\n\t\t\t\t\tvar i = autoplay ? 1 : 0,\n\t\t\t\t\t\thtml = autoplayButton.innerHTML,\n\t\t\t\t\t\tlen = html.length - autoplayTextTem[i].length;\n\t\t\t\t\tif (html.substring(len) === autoplayTextTem[i]) {\n\t\t\t\t\t\tautoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (center && (fixedWidth || autoWidth)) {\n\t\t\t\t\tneedContainerTransform = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (itemsChanged || (fixedWidth && !autoWidth)) {\n\t\t\t\tpages = getPages();\n\t\t\t\tupdateNavVisibility();\n\t\t\t}\n\n\t\t\tindChanged = index !== indexTem;\n\t\t\tif (indChanged) {\n\t\t\t\tevents.emit('indexChanged', info());\n\t\t\t\tneedContainerTransform = true;\n\t\t\t} else if (itemsChanged) {\n\t\t\t\tif (!indChanged) {\n\t\t\t\t\tadditionalUpdates();\n\t\t\t\t}\n\t\t\t} else if (fixedWidth || autoWidth) {\n\t\t\t\tdoLazyLoad();\n\t\t\t\tupdateSlideStatus();\n\t\t\t\tupdateLiveRegion();\n\t\t\t}\n\n\t\t\tif (itemsChanged && !carousel) {\n\t\t\t\tupdateGallerySlidePositions();\n\t\t\t}\n\n\t\t\tif (!disable && !freeze) {\n\t\t\t\t// non-mediaqueries: IE8\n\t\t\t\tif (bpChanged && !CSSMQ) {\n\t\t\t\t\t// middle wrapper styles\n\n\t\t\t\t\t// inner wrapper styles\n\t\t\t\t\tif (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n\t\t\t\t\t\tinnerWrapper.style.cssText = getInnerWrapperStyles(\n\t\t\t\t\t\t\tedgePadding,\n\t\t\t\t\t\t\tgutter,\n\t\t\t\t\t\t\tfixedWidth,\n\t\t\t\t\t\t\tspeed,\n\t\t\t\t\t\t\tautoHeight\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (horizontal) {\n\t\t\t\t\t\t// container styles\n\t\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\t\tcontainer.style.width = getContainerWidth(\n\t\t\t\t\t\t\t\tfixedWidth,\n\t\t\t\t\t\t\t\tgutter,\n\t\t\t\t\t\t\t\titems\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// slide styles\n\t\t\t\t\t\tvar str =\n\t\t\t\t\t\t\tgetSlideWidthStyle(fixedWidth, gutter, items) +\n\t\t\t\t\t\t\tgetSlideGutterStyle(gutter);\n\n\t\t\t\t\t\t// remove the last line and\n\t\t\t\t\t\t// add new styles\n\t\t\t\t\t\tremoveCSSRule(sheet, getCssRulesLength(sheet) - 1);\n\t\t\t\t\t\taddCSSRule(\n\t\t\t\t\t\t\tsheet,\n\t\t\t\t\t\t\t'#' + slideId + ' > .tns-item',\n\t\t\t\t\t\t\tstr,\n\t\t\t\t\t\t\tgetCssRulesLength(sheet)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// auto height\n\t\t\t\tif (autoHeight) {\n\t\t\t\t\tdoAutoHeight();\n\t\t\t\t}\n\n\t\t\t\tif (needContainerTransform) {\n\t\t\t\t\tdoContainerTransformSilent();\n\t\t\t\t\tindexCached = index;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (bpChanged) {\n\t\t\t\tevents.emit('newBreakpointEnd', info(e));\n\t\t\t}\n\t\t}\n\n\t\t// === INITIALIZATION FUNCTIONS === //\n\t\tfunction getFreeze() {\n\t\t\tif (!fixedWidth && !autoWidth) {\n\t\t\t\tvar a = center ? items - (items - 1) / 2 : items;\n\t\t\t\treturn slideCount <= a;\n\t\t\t}\n\n\t\t\tvar width = fixedWidth\n\t\t\t\t\t? (fixedWidth + gutter) * slideCount\n\t\t\t\t\t: slidePositions[slideCount],\n\t\t\t\tvp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n\t\t\tif (center) {\n\t\t\t\tvp -= fixedWidth\n\t\t\t\t\t? (viewport - fixedWidth) / 2\n\t\t\t\t\t: (viewport -\n\t\t\t\t\t\t\t(slidePositions[index + 1] - slidePositions[index] - gutter)) /\n\t\t\t\t\t  2;\n\t\t\t}\n\n\t\t\treturn width <= vp;\n\t\t}\n\n\t\tfunction setBreakpointZone() {\n\t\t\tbreakpointZone = 0;\n\t\t\tfor (var bp in responsive) {\n\t\t\t\tbp = parseInt(bp); // convert string to number\n\t\t\t\tif (windowWidth >= bp) {\n\t\t\t\t\tbreakpointZone = bp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (slideBy, indexMin, indexMax) => index\n\t\tvar updateIndex = (function () {\n\t\t\treturn loop\n\t\t\t\t? carousel\n\t\t\t\t\t? // loop + carousel\n\t\t\t\t\t  function () {\n\t\t\t\t\t\t\tvar leftEdge = indexMin,\n\t\t\t\t\t\t\t\trightEdge = indexMax;\n\n\t\t\t\t\t\t\tleftEdge += slideBy;\n\t\t\t\t\t\t\trightEdge -= slideBy;\n\n\t\t\t\t\t\t\t// adjust edges when has edge paddings\n\t\t\t\t\t\t\t// or fixed-width slider with extra space on the right side\n\t\t\t\t\t\t\tif (edgePadding) {\n\t\t\t\t\t\t\t\tleftEdge += 1;\n\t\t\t\t\t\t\t\trightEdge -= 1;\n\t\t\t\t\t\t\t} else if (fixedWidth) {\n\t\t\t\t\t\t\t\tif ((viewport + gutter) % (fixedWidth + gutter)) {\n\t\t\t\t\t\t\t\t\trightEdge -= 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (cloneCount) {\n\t\t\t\t\t\t\t\tif (index > rightEdge) {\n\t\t\t\t\t\t\t\t\tindex -= slideCount;\n\t\t\t\t\t\t\t\t} else if (index < leftEdge) {\n\t\t\t\t\t\t\t\t\tindex += slideCount;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  }\n\t\t\t\t\t: // loop + gallery\n\t\t\t\t\t  function () {\n\t\t\t\t\t\t\tif (index > indexMax) {\n\t\t\t\t\t\t\t\twhile (index >= indexMin + slideCount) {\n\t\t\t\t\t\t\t\t\tindex -= slideCount;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (index < indexMin) {\n\t\t\t\t\t\t\t\twhile (index <= indexMax - slideCount) {\n\t\t\t\t\t\t\t\t\tindex += slideCount;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  }\n\t\t\t\t: // non-loop\n\t\t\t\t  function () {\n\t\t\t\t\t\tindex = Math.max(indexMin, Math.min(indexMax, index));\n\t\t\t\t  };\n\t\t})();\n\n\t\tfunction disableUI() {\n\t\t\tif (!autoplay && autoplayButton) {\n\t\t\t\thideElement(autoplayButton);\n\t\t\t}\n\t\t\tif (!nav && navContainer) {\n\t\t\t\thideElement(navContainer);\n\t\t\t}\n\t\t\tif (!controls) {\n\t\t\t\tif (controlsContainer) {\n\t\t\t\t\thideElement(controlsContainer);\n\t\t\t\t} else {\n\t\t\t\t\tif (prevButton) {\n\t\t\t\t\t\thideElement(prevButton);\n\t\t\t\t\t}\n\t\t\t\t\tif (nextButton) {\n\t\t\t\t\t\thideElement(nextButton);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction enableUI() {\n\t\t\tif (autoplay && autoplayButton) {\n\t\t\t\tshowElement(autoplayButton);\n\t\t\t}\n\t\t\tif (nav && navContainer) {\n\t\t\t\tshowElement(navContainer);\n\t\t\t}\n\t\t\tif (controls) {\n\t\t\t\tif (controlsContainer) {\n\t\t\t\t\tshowElement(controlsContainer);\n\t\t\t\t} else {\n\t\t\t\t\tif (prevButton) {\n\t\t\t\t\t\tshowElement(prevButton);\n\t\t\t\t\t}\n\t\t\t\t\tif (nextButton) {\n\t\t\t\t\t\tshowElement(nextButton);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction freezeSlider() {\n\t\t\tif (frozen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// remove edge padding from inner wrapper\n\t\t\tif (edgePadding) {\n\t\t\t\tinnerWrapper.style.margin = '0px';\n\t\t\t}\n\n\t\t\t// add class tns-transparent to cloned slides\n\t\t\tif (cloneCount) {\n\t\t\t\tvar str = 'tns-transparent';\n\t\t\t\tfor (var i = cloneCount; i--; ) {\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\taddClass(slideItems[i], str);\n\t\t\t\t\t}\n\t\t\t\t\taddClass(slideItems[slideCountNew - i - 1], str);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update tools\n\t\t\tdisableUI();\n\n\t\t\tfrozen = true;\n\t\t}\n\n\t\tfunction unfreezeSlider() {\n\t\t\tif (!frozen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// restore edge padding for inner wrapper\n\t\t\t// for mordern browsers\n\t\t\tif (edgePadding && CSSMQ) {\n\t\t\t\tinnerWrapper.style.margin = '';\n\t\t\t}\n\n\t\t\t// remove class tns-transparent to cloned slides\n\t\t\tif (cloneCount) {\n\t\t\t\tvar str = 'tns-transparent';\n\t\t\t\tfor (var i = cloneCount; i--; ) {\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\tremoveClass(slideItems[i], str);\n\t\t\t\t\t}\n\t\t\t\t\tremoveClass(slideItems[slideCountNew - i - 1], str);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update tools\n\t\t\tenableUI();\n\n\t\t\tfrozen = false;\n\t\t}\n\n\t\tfunction disableSlider() {\n\t\t\tif (disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsheet.disabled = true;\n\t\t\tcontainer.className = container.className.replace(\n\t\t\t\tnewContainerClasses.substring(1),\n\t\t\t\t''\n\t\t\t);\n\t\t\tremoveAttrs(container, ['style']);\n\t\t\tif (loop) {\n\t\t\t\tfor (var j = cloneCount; j--; ) {\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\thideElement(slideItems[j]);\n\t\t\t\t\t}\n\t\t\t\t\thideElement(slideItems[slideCountNew - j - 1]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// vertical slider\n\t\t\tif (!horizontal || !carousel) {\n\t\t\t\tremoveAttrs(innerWrapper, ['style']);\n\t\t\t}\n\n\t\t\t// gallery\n\t\t\tif (!carousel) {\n\t\t\t\tfor (var i = index, l = index + slideCount; i < l; i++) {\n\t\t\t\t\tvar item = slideItems[i];\n\t\t\t\t\tremoveAttrs(item, ['style']);\n\t\t\t\t\tremoveClass(item, animateIn);\n\t\t\t\t\tremoveClass(item, animateNormal);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update tools\n\t\t\tdisableUI();\n\n\t\t\tdisabled = true;\n\t\t}\n\n\t\tfunction enableSlider() {\n\t\t\tif (!disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsheet.disabled = false;\n\t\t\tcontainer.className += newContainerClasses;\n\t\t\tdoContainerTransformSilent();\n\n\t\t\tif (loop) {\n\t\t\t\tfor (var j = cloneCount; j--; ) {\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\tshowElement(slideItems[j]);\n\t\t\t\t\t}\n\t\t\t\t\tshowElement(slideItems[slideCountNew - j - 1]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// gallery\n\t\t\tif (!carousel) {\n\t\t\t\tfor (var i = index, l = index + slideCount; i < l; i++) {\n\t\t\t\t\tvar item = slideItems[i],\n\t\t\t\t\t\tclassN = i < index + items ? animateIn : animateNormal;\n\t\t\t\t\titem.style.left = ((i - index) * 100) / items + '%';\n\t\t\t\t\taddClass(item, classN);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update tools\n\t\t\tenableUI();\n\n\t\t\tdisabled = false;\n\t\t}\n\n\t\tfunction updateLiveRegion() {\n\t\t\tvar str = getLiveRegionStr();\n\t\t\tif (liveregionCurrent.innerHTML !== str) {\n\t\t\t\tliveregionCurrent.innerHTML = str;\n\t\t\t}\n\t\t}\n\n\t\tfunction getLiveRegionStr() {\n\t\t\tvar arr = getVisibleSlideRange(),\n\t\t\t\tstart = arr[0] + 1,\n\t\t\t\tend = arr[1] + 1;\n\t\t\treturn start === end ? start + '' : start + ' to ' + end;\n\t\t}\n\n\t\tfunction getVisibleSlideRange(val) {\n\t\t\tif (val == null) {\n\t\t\t\tval = getContainerTransformValue();\n\t\t\t}\n\t\t\tvar start = index,\n\t\t\t\tend,\n\t\t\t\trangestart,\n\t\t\t\trangeend;\n\n\t\t\t// get range start, range end for autoWidth and fixedWidth\n\t\t\tif (center || edgePadding) {\n\t\t\t\tif (autoWidth || fixedWidth) {\n\t\t\t\t\trangestart = -(parseFloat(val) + edgePadding);\n\t\t\t\t\trangeend = rangestart + viewport + edgePadding * 2;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (autoWidth) {\n\t\t\t\t\trangestart = slidePositions[index];\n\t\t\t\t\trangeend = rangestart + viewport;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// get start, end\n\t\t\t// - check auto width\n\t\t\tif (autoWidth) {\n\t\t\t\tslidePositions.forEach(function (point, i) {\n\t\t\t\t\tif (i < slideCountNew) {\n\t\t\t\t\t\tif ((center || edgePadding) && point <= rangestart + 0.5) {\n\t\t\t\t\t\t\tstart = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (rangeend - point >= 0.5) {\n\t\t\t\t\t\t\tend = i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// - check percentage width, fixed width\n\t\t\t} else {\n\t\t\t\tif (fixedWidth) {\n\t\t\t\t\tvar cell = fixedWidth + gutter;\n\t\t\t\t\tif (center || edgePadding) {\n\t\t\t\t\t\tstart = Math.floor(rangestart / cell);\n\t\t\t\t\t\tend = Math.ceil(rangeend / cell - 1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = start + Math.ceil(viewport / cell) - 1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (center || edgePadding) {\n\t\t\t\t\t\tvar a = items - 1;\n\t\t\t\t\t\tif (center) {\n\t\t\t\t\t\t\tstart -= a / 2;\n\t\t\t\t\t\t\tend = index + a / 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tend = index + a;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (edgePadding) {\n\t\t\t\t\t\t\tvar b = (edgePadding * items) / viewport;\n\t\t\t\t\t\t\tstart -= b;\n\t\t\t\t\t\t\tend += b;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = Math.floor(start);\n\t\t\t\t\t\tend = Math.ceil(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = start + items - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstart = Math.max(start, 0);\n\t\t\t\tend = Math.min(end, slideCountNew - 1);\n\t\t\t}\n\n\t\t\treturn [start, end];\n\t\t}\n\n\t\tfunction doLazyLoad() {\n\t\t\tif (lazyload && !disable) {\n\t\t\t\tvar arg = getVisibleSlideRange();\n\t\t\t\targ.push(lazyloadSelector);\n\n\t\t\t\tgetImageArray.apply(null, arg).forEach(function (img) {\n\t\t\t\t\tif (!hasClass(img, imgCompleteClass)) {\n\t\t\t\t\t\t// stop propagation transitionend event to container\n\t\t\t\t\t\tvar eve = {};\n\t\t\t\t\t\teve[TRANSITIONEND] = function (e) {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t};\n\t\t\t\t\t\taddEvents(img, eve);\n\n\t\t\t\t\t\taddEvents(img, imgEvents);\n\n\t\t\t\t\t\t// update src\n\t\t\t\t\t\timg.src = getAttr(img, 'data-src');\n\n\t\t\t\t\t\t// update srcset\n\t\t\t\t\t\tvar srcset = getAttr(img, 'data-srcset');\n\t\t\t\t\t\tif (srcset) {\n\t\t\t\t\t\t\timg.srcset = srcset;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taddClass(img, 'loading');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction onImgLoaded(e) {\n\t\t\timgLoaded(getTarget(e));\n\t\t}\n\n\t\tfunction onImgFailed(e) {\n\t\t\timgFailed(getTarget(e));\n\t\t}\n\n\t\tfunction imgLoaded(img) {\n\t\t\taddClass(img, 'loaded');\n\t\t\timgCompleted(img);\n\t\t}\n\n\t\tfunction imgFailed(img) {\n\t\t\taddClass(img, 'failed');\n\t\t\timgCompleted(img);\n\t\t}\n\n\t\tfunction imgCompleted(img) {\n\t\t\taddClass(img, imgCompleteClass);\n\t\t\tremoveClass(img, 'loading');\n\t\t\tremoveEvents(img, imgEvents);\n\t\t}\n\n\t\tfunction getImageArray(start, end, imgSelector) {\n\t\t\tvar imgs = [];\n\t\t\tif (!imgSelector) {\n\t\t\t\timgSelector = 'img';\n\t\t\t}\n\n\t\t\twhile (start <= end) {\n\t\t\t\tforEach(slideItems[start].querySelectorAll(imgSelector), function (\n\t\t\t\t\timg\n\t\t\t\t) {\n\t\t\t\t\timgs.push(img);\n\t\t\t\t});\n\t\t\t\tstart++;\n\t\t\t}\n\n\t\t\treturn imgs;\n\t\t}\n\n\t\t// check if all visible images are loaded\n\t\t// and update container height if it's done\n\t\tfunction doAutoHeight() {\n\t\t\tvar imgs = getImageArray.apply(null, getVisibleSlideRange());\n\t\t\traf(function () {\n\t\t\t\timgsLoadedCheck(imgs, updateInnerWrapperHeight);\n\t\t\t});\n\t\t}\n\n\t\tfunction imgsLoadedCheck(imgs, cb) {\n\t\t\t// execute callback function if all images are complete\n\t\t\tif (imgsComplete) {\n\t\t\t\treturn cb();\n\t\t\t}\n\n\t\t\t// check image classes\n\t\t\timgs.forEach(function (img, index) {\n\t\t\t\tif (!lazyload && img.complete) {\n\t\t\t\t\timgCompleted(img);\n\t\t\t\t} // Check image.complete\n\t\t\t\tif (hasClass(img, imgCompleteClass)) {\n\t\t\t\t\timgs.splice(index, 1);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// execute callback function if selected images are all complete\n\t\t\tif (!imgs.length) {\n\t\t\t\treturn cb();\n\t\t\t}\n\n\t\t\t// otherwise execute this functiona again\n\t\t\traf(function () {\n\t\t\t\timgsLoadedCheck(imgs, cb);\n\t\t\t});\n\t\t}\n\n\t\tfunction additionalUpdates() {\n\t\t\tdoLazyLoad();\n\t\t\tupdateSlideStatus();\n\t\t\tupdateLiveRegion();\n\t\t\tupdateControlsStatus();\n\t\t\tupdateNavStatus();\n\t\t}\n\n\t\tfunction update_carousel_transition_duration() {\n\t\t\tif (carousel && autoHeight) {\n\t\t\t\tmiddleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n\t\t\t}\n\t\t}\n\n\t\tfunction getMaxSlideHeight(slideStart, slideRange) {\n\t\t\tvar heights = [];\n\t\t\tfor (\n\t\t\t\tvar i = slideStart,\n\t\t\t\t\tl = Math.min(slideStart + slideRange, slideCountNew);\n\t\t\t\ti < l;\n\t\t\t\ti++\n\t\t\t) {\n\t\t\t\theights.push(slideItems[i].offsetHeight);\n\t\t\t}\n\n\t\t\treturn Math.max.apply(null, heights);\n\t\t}\n\n\t\t// update inner wrapper height\n\t\t// 1. get the max-height of the visible slides\n\t\t// 2. set transitionDuration to speed\n\t\t// 3. update inner wrapper height to max-height\n\t\t// 4. set transitionDuration to 0s after transition done\n\t\tfunction updateInnerWrapperHeight() {\n\t\t\tvar maxHeight = autoHeight\n\t\t\t\t\t? getMaxSlideHeight(index, items)\n\t\t\t\t\t: getMaxSlideHeight(cloneCount, slideCount),\n\t\t\t\twp = middleWrapper ? middleWrapper : innerWrapper;\n\n\t\t\tif (wp.style.height !== maxHeight) {\n\t\t\t\twp.style.height = maxHeight + 'px';\n\t\t\t}\n\t\t}\n\n\t\t// get the distance from the top edge of the first slide to each slide\n\t\t// (init) => slidePositions\n\t\tfunction setSlidePositions() {\n\t\t\tslidePositions = [0];\n\t\t\tvar attr = horizontal ? 'left' : 'top',\n\t\t\t\tattr2 = horizontal ? 'right' : 'bottom',\n\t\t\t\tbase = slideItems[0].getBoundingClientRect()[attr];\n\n\t\t\tforEach(slideItems, function (item, i) {\n\t\t\t\t// skip the first slide\n\t\t\t\tif (i) {\n\t\t\t\t\tslidePositions.push(item.getBoundingClientRect()[attr] - base);\n\t\t\t\t}\n\t\t\t\t// add the end edge\n\t\t\t\tif (i === slideCountNew - 1) {\n\t\t\t\t\tslidePositions.push(item.getBoundingClientRect()[attr2] - base);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// update slide\n\t\tfunction updateSlideStatus() {\n\t\t\tvar range = getVisibleSlideRange(),\n\t\t\t\tstart = range[0],\n\t\t\t\tend = range[1];\n\n\t\t\tforEach(slideItems, function (item, i) {\n\t\t\t\t// show slides\n\t\t\t\tif (i >= start && i <= end) {\n\t\t\t\t\tif (hasAttr(item, 'aria-hidden')) {\n\t\t\t\t\t\tremoveAttrs(item, ['aria-hidden', 'tabindex']);\n\t\t\t\t\t\taddClass(item, slideActiveClass);\n\t\t\t\t\t}\n\t\t\t\t\t// hide slides\n\t\t\t\t} else {\n\t\t\t\t\tif (!hasAttr(item, 'aria-hidden')) {\n\t\t\t\t\t\tsetAttrs(item, {\n\t\t\t\t\t\t\t'aria-hidden': 'true',\n\t\t\t\t\t\t\ttabindex: '-1',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tremoveClass(item, slideActiveClass);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// gallery: update slide position\n\t\tfunction updateGallerySlidePositions() {\n\t\t\tvar l = index + Math.min(slideCount, items);\n\t\t\tfor (var i = slideCountNew; i--; ) {\n\t\t\t\tvar item = slideItems[i];\n\n\t\t\t\tif (i >= index && i < l) {\n\t\t\t\t\t// add transitions to visible slides when adjusting their positions\n\t\t\t\t\taddClass(item, 'tns-moving');\n\n\t\t\t\t\titem.style.left = ((i - index) * 100) / items + '%';\n\t\t\t\t\taddClass(item, animateIn);\n\t\t\t\t\tremoveClass(item, animateNormal);\n\t\t\t\t} else if (item.style.left) {\n\t\t\t\t\titem.style.left = '';\n\t\t\t\t\taddClass(item, animateNormal);\n\t\t\t\t\tremoveClass(item, animateIn);\n\t\t\t\t}\n\n\t\t\t\t// remove outlet animation\n\t\t\t\tremoveClass(item, animateOut);\n\t\t\t}\n\n\t\t\t// removing '.tns-moving'\n\t\t\tsetTimeout(function () {\n\t\t\t\tforEach(slideItems, function (el) {\n\t\t\t\t\tremoveClass(el, 'tns-moving');\n\t\t\t\t});\n\t\t\t}, 300);\n\t\t}\n\n\t\t// set tabindex on Nav\n\t\tfunction updateNavStatus() {\n\t\t\t// get current nav\n\t\t\tif (nav) {\n\t\t\t\tnavCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n\t\t\t\tnavClicked = -1;\n\n\t\t\t\tif (navCurrentIndex !== navCurrentIndexCached) {\n\t\t\t\t\tvar navPrev = navItems[navCurrentIndexCached],\n\t\t\t\t\t\tnavCurrent = navItems[navCurrentIndex];\n\n\t\t\t\t\tsetAttrs(navPrev, {\n\t\t\t\t\t\ttabindex: '-1',\n\t\t\t\t\t\t'aria-label': navStr + (navCurrentIndexCached + 1),\n\t\t\t\t\t});\n\t\t\t\t\tremoveClass(navPrev, navActiveClass);\n\n\t\t\t\t\tsetAttrs(navCurrent, {\n\t\t\t\t\t\t'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent,\n\t\t\t\t\t});\n\t\t\t\t\tremoveAttrs(navCurrent, 'tabindex');\n\t\t\t\t\taddClass(navCurrent, navActiveClass);\n\n\t\t\t\t\tnavCurrentIndexCached = navCurrentIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction getLowerCaseNodeName(el) {\n\t\t\treturn el.nodeName.toLowerCase();\n\t\t}\n\n\t\tfunction isButton(el) {\n\t\t\treturn getLowerCaseNodeName(el) === 'button';\n\t\t}\n\n\t\tfunction isAriaDisabled(el) {\n\t\t\treturn el.getAttribute('aria-disabled') === 'true';\n\t\t}\n\n\t\tfunction disEnableElement(isButton, el, val) {\n\t\t\tif (isButton) {\n\t\t\t\tel.disabled = val;\n\t\t\t} else {\n\t\t\t\tel.setAttribute('aria-disabled', val.toString());\n\t\t\t}\n\t\t}\n\n\t\t// set 'disabled' to true on controls when reach the edges\n\t\tfunction updateControlsStatus() {\n\t\t\tif (!controls || rewind || loop) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar prevDisabled = prevIsButton\n\t\t\t\t\t? prevButton.disabled\n\t\t\t\t\t: isAriaDisabled(prevButton),\n\t\t\t\tnextDisabled = nextIsButton\n\t\t\t\t\t? nextButton.disabled\n\t\t\t\t\t: isAriaDisabled(nextButton),\n\t\t\t\tdisablePrev = index <= indexMin ? true : false,\n\t\t\t\tdisableNext = !rewind && index >= indexMax ? true : false;\n\n\t\t\tif (disablePrev && !prevDisabled) {\n\t\t\t\tdisEnableElement(prevIsButton, prevButton, true);\n\t\t\t}\n\t\t\tif (!disablePrev && prevDisabled) {\n\t\t\t\tdisEnableElement(prevIsButton, prevButton, false);\n\t\t\t}\n\t\t\tif (disableNext && !nextDisabled) {\n\t\t\t\tdisEnableElement(nextIsButton, nextButton, true);\n\t\t\t}\n\t\t\tif (!disableNext && nextDisabled) {\n\t\t\t\tdisEnableElement(nextIsButton, nextButton, false);\n\t\t\t}\n\t\t}\n\n\t\t// set duration\n\t\tfunction resetDuration(el, str) {\n\t\t\tif (TRANSITIONDURATION) {\n\t\t\t\tel.style[TRANSITIONDURATION] = str;\n\t\t\t}\n\t\t}\n\n\t\tfunction getSliderWidth() {\n\t\t\treturn fixedWidth\n\t\t\t\t? (fixedWidth + gutter) * slideCountNew\n\t\t\t\t: slidePositions[slideCountNew];\n\t\t}\n\n\t\tfunction getCenterGap(num) {\n\t\t\tif (num == null) {\n\t\t\t\tnum = index;\n\t\t\t}\n\n\t\t\tvar gap = edgePadding ? gutter : 0;\n\t\t\treturn autoWidth\n\t\t\t\t? (viewport -\n\t\t\t\t\t\tgap -\n\t\t\t\t\t\t(slidePositions[num + 1] - slidePositions[num] - gutter)) /\n\t\t\t\t\t\t2\n\t\t\t\t: fixedWidth\n\t\t\t\t? (viewport - fixedWidth) / 2\n\t\t\t\t: (items - 1) / 2;\n\t\t}\n\n\t\tfunction getRightBoundary() {\n\t\t\tvar gap = edgePadding ? gutter : 0,\n\t\t\t\tresult = viewport + gap - getSliderWidth();\n\n\t\t\tif (center && !loop) {\n\t\t\t\tresult = fixedWidth\n\t\t\t\t\t? -(fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap()\n\t\t\t\t\t: getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n\t\t\t}\n\t\t\tif (result > 0) {\n\t\t\t\tresult = 0;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction getContainerTransformValue(num) {\n\t\t\tif (num == null) {\n\t\t\t\tnum = index;\n\t\t\t}\n\n\t\t\tvar val;\n\t\t\tif (horizontal && !autoWidth) {\n\t\t\t\tif (fixedWidth) {\n\t\t\t\t\tval = -(fixedWidth + gutter) * num;\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\tval += getCenterGap();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar denominator = TRANSFORM ? slideCountNew : items;\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\tnum -= getCenterGap();\n\t\t\t\t\t}\n\t\t\t\t\tval = (-num * 100) / denominator;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tval = -slidePositions[num];\n\t\t\t\tif (center && autoWidth) {\n\t\t\t\t\tval += getCenterGap();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasRightDeadZone) {\n\t\t\t\tval = Math.max(val, rightBoundary);\n\t\t\t}\n\n\t\t\tval += horizontal && !autoWidth && !fixedWidth ? '%' : 'px';\n\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction doContainerTransformSilent(val) {\n\t\t\tresetDuration(container, '0s');\n\t\t\tdoContainerTransform(val);\n\t\t}\n\n\t\tfunction doContainerTransform(val) {\n\t\t\tif (val == null) {\n\t\t\t\tval = getContainerTransformValue();\n\t\t\t}\n\t\t\tcontainer.style[transformAttr] = transformPrefix + val + transformPostfix;\n\t\t}\n\n\t\tfunction animateSlide(number, classOut, classIn, isOut) {\n\t\t\tvar l = number + items;\n\t\t\tif (!loop) {\n\t\t\t\tl = Math.min(l, slideCountNew);\n\t\t\t}\n\n\t\t\tfor (var i = number; i < l; i++) {\n\t\t\t\tvar item = slideItems[i];\n\n\t\t\t\t// set item positions\n\t\t\t\tif (!isOut) {\n\t\t\t\t\titem.style.left = ((i - index) * 100) / items + '%';\n\t\t\t\t}\n\n\t\t\t\tif (animateDelay && TRANSITIONDELAY) {\n\t\t\t\t\titem.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] =\n\t\t\t\t\t\t(animateDelay * (i - number)) / 1000 + 's';\n\t\t\t\t}\n\t\t\t\tremoveClass(item, classOut);\n\t\t\t\taddClass(item, classIn);\n\n\t\t\t\tif (isOut) {\n\t\t\t\t\tslideItemsOut.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// make transfer after click/drag:\n\t\t// 1. change 'transform' property for mordern browsers\n\t\t// 2. change 'left' property for legacy browsers\n\t\tvar transformCore = (function () {\n\t\t\treturn carousel\n\t\t\t\t? function () {\n\t\t\t\t\t\tresetDuration(container, '');\n\t\t\t\t\t\tif (TRANSITIONDURATION || !speed) {\n\t\t\t\t\t\t\t// for morden browsers with non-zero duration or\n\t\t\t\t\t\t\t// zero duration for all browsers\n\t\t\t\t\t\t\tdoContainerTransform();\n\t\t\t\t\t\t\t// run fallback function manually\n\t\t\t\t\t\t\t// when duration is 0 / container is hidden\n\t\t\t\t\t\t\tif (!speed || !isVisible(container)) {\n\t\t\t\t\t\t\t\tonTransitionEnd();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// for old browser with non-zero duration\n\t\t\t\t\t\t\tjsTransform(\n\t\t\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\t\t\ttransformAttr,\n\t\t\t\t\t\t\t\ttransformPrefix,\n\t\t\t\t\t\t\t\ttransformPostfix,\n\t\t\t\t\t\t\t\tgetContainerTransformValue(),\n\t\t\t\t\t\t\t\tspeed,\n\t\t\t\t\t\t\t\tonTransitionEnd\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!horizontal) {\n\t\t\t\t\t\t\tupdateContentWrapperHeight();\n\t\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t\t: function () {\n\t\t\t\t\t\tslideItemsOut = [];\n\n\t\t\t\t\t\tvar eve = {};\n\t\t\t\t\t\teve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n\t\t\t\t\t\tremoveEvents(slideItems[indexCached], eve);\n\t\t\t\t\t\taddEvents(slideItems[index], eve);\n\n\t\t\t\t\t\tanimateSlide(indexCached, animateIn, animateOut, true);\n\t\t\t\t\t\tanimateSlide(index, animateNormal, animateIn);\n\n\t\t\t\t\t\t// run fallback function manually\n\t\t\t\t\t\t// when transition or animation not supported / duration is 0\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!TRANSITIONEND ||\n\t\t\t\t\t\t\t!ANIMATIONEND ||\n\t\t\t\t\t\t\t!speed ||\n\t\t\t\t\t\t\t!isVisible(container)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tonTransitionEnd();\n\t\t\t\t\t\t}\n\t\t\t\t  };\n\t\t})();\n\n\t\tfunction render(e, sliderMoved) {\n\t\t\tif (updateIndexBeforeTransform) {\n\t\t\t\tupdateIndex();\n\t\t\t}\n\n\t\t\t// render when slider was moved (touch or drag) even though index may not change\n\t\t\tif (index !== indexCached || sliderMoved) {\n\t\t\t\t// events\n\t\t\t\tevents.emit('indexChanged', info());\n\t\t\t\tevents.emit('transitionStart', info());\n\t\t\t\tif (autoHeight) {\n\t\t\t\t\tdoAutoHeight();\n\t\t\t\t}\n\n\t\t\t\t// pause autoplay when click or keydown from user\n\t\t\t\tif (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) {\n\t\t\t\t\tstopAutoplay();\n\t\t\t\t}\n\n\t\t\t\trunning = true;\n\t\t\t\ttransformCore();\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Transfer prefixed properties to the same format\n\t\t * CSS: -Webkit-Transform => webkittransform\n\t\t * JS: WebkitTransform => webkittransform\n\t\t * @param {string} str - property\n\t\t *\n\t\t */\n\t\tfunction strTrans(str) {\n\t\t\treturn str.toLowerCase().replace(/-/g, '');\n\t\t}\n\n\t\t// AFTER TRANSFORM\n\t\t// Things need to be done after a transfer:\n\t\t// 1. check index\n\t\t// 2. add classes to visible slide\n\t\t// 3. disable controls buttons when reach the first/last slide in non-loop slider\n\t\t// 4. update nav status\n\t\t// 5. lazyload images\n\t\t// 6. update container height\n\t\tfunction onTransitionEnd(event) {\n\t\t\t// check running on gallery mode\n\t\t\t// make sure trantionend/animationend events run only once\n\t\t\tif (carousel || running) {\n\t\t\t\tevents.emit('transitionEnd', info(event));\n\n\t\t\t\tif (!carousel && slideItemsOut.length > 0) {\n\t\t\t\t\tfor (var i = 0; i < slideItemsOut.length; i++) {\n\t\t\t\t\t\tvar item = slideItemsOut[i];\n\t\t\t\t\t\t// set item positions\n\t\t\t\t\t\titem.style.left = '';\n\n\t\t\t\t\t\tif (ANIMATIONDELAY && TRANSITIONDELAY) {\n\t\t\t\t\t\t\titem.style[ANIMATIONDELAY] = '';\n\t\t\t\t\t\t\titem.style[TRANSITIONDELAY] = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveClass(item, animateOut);\n\t\t\t\t\t\taddClass(item, animateNormal);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* update slides, nav, controls after checking ...\n\t\t\t\t * => legacy browsers who don't support 'event'\n\t\t\t\t *    have to check event first, otherwise event.target will cause an error\n\t\t\t\t * => or 'gallery' mode:\n\t\t\t\t *   + event target is slide item\n\t\t\t\t * => or 'carousel' mode:\n\t\t\t\t *   + event target is container,\n\t\t\t\t *   + event.property is the same with transform attribute\n\t\t\t\t */\n\t\t\t\tif (\n\t\t\t\t\t!event ||\n\t\t\t\t\t(!carousel && event.target.parentNode === container) ||\n\t\t\t\t\t(event.target === container &&\n\t\t\t\t\t\tstrTrans(event.propertyName) === strTrans(transformAttr))\n\t\t\t\t) {\n\t\t\t\t\tif (!updateIndexBeforeTransform) {\n\t\t\t\t\t\tvar indexTem = index;\n\t\t\t\t\t\tupdateIndex();\n\t\t\t\t\t\tif (index !== indexTem) {\n\t\t\t\t\t\t\tevents.emit('indexChanged', info());\n\n\t\t\t\t\t\t\tdoContainerTransformSilent();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nested === 'inner') {\n\t\t\t\t\t\tevents.emit('innerLoaded', info());\n\t\t\t\t\t}\n\t\t\t\t\trunning = false;\n\t\t\t\t\tindexCached = index;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// # ACTIONS\n\t\tfunction goTo(targetIndex, e) {\n\t\t\tif (freeze) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// prev slideBy\n\t\t\tif (targetIndex === 'prev') {\n\t\t\t\tonControlsClick(e, -1);\n\n\t\t\t\t// next slideBy\n\t\t\t} else if (targetIndex === 'next') {\n\t\t\t\tonControlsClick(e, 1);\n\n\t\t\t\t// go to exact slide\n\t\t\t} else {\n\t\t\t\tif (running) {\n\t\t\t\t\tif (preventActionWhenRunning) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonTransitionEnd();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar absIndex = getAbsIndex(),\n\t\t\t\t\tindexGap = 0;\n\n\t\t\t\tif (targetIndex === 'first') {\n\t\t\t\t\tindexGap = -absIndex;\n\t\t\t\t} else if (targetIndex === 'last') {\n\t\t\t\t\tindexGap = carousel\n\t\t\t\t\t\t? slideCount - items - absIndex\n\t\t\t\t\t\t: slideCount - 1 - absIndex;\n\t\t\t\t} else {\n\t\t\t\t\tif (typeof targetIndex !== 'number') {\n\t\t\t\t\t\ttargetIndex = parseInt(targetIndex);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isNaN(targetIndex)) {\n\t\t\t\t\t\t// from directly called goTo function\n\t\t\t\t\t\tif (!e) {\n\t\t\t\t\t\t\ttargetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tindexGap = targetIndex - absIndex;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// gallery: make sure new page won't overlap with current page\n\t\t\t\tif (!carousel && indexGap && Math.abs(indexGap) < items) {\n\t\t\t\t\tvar factor = indexGap > 0 ? 1 : -1;\n\t\t\t\t\tindexGap +=\n\t\t\t\t\t\tindex + indexGap - slideCount >= indexMin\n\t\t\t\t\t\t\t? slideCount * factor\n\t\t\t\t\t\t\t: slideCount * 2 * factor * -1;\n\t\t\t\t}\n\n\t\t\t\tindex += indexGap;\n\n\t\t\t\t// make sure index is in range\n\t\t\t\tif (carousel && loop) {\n\t\t\t\t\tif (index < indexMin) {\n\t\t\t\t\t\tindex += slideCount;\n\t\t\t\t\t}\n\t\t\t\t\tif (index > indexMax) {\n\t\t\t\t\t\tindex -= slideCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if index is changed, start rendering\n\t\t\t\tif (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n\t\t\t\t\trender(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// on controls click\n\t\tfunction onControlsClick(e, dir) {\n\t\t\tif (running) {\n\t\t\t\tif (preventActionWhenRunning) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tonTransitionEnd();\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar passEventObject;\n\n\t\t\tif (!dir) {\n\t\t\t\te = getEvent(e);\n\t\t\t\tvar target = getTarget(e);\n\n\t\t\t\twhile (\n\t\t\t\t\ttarget !== controlsContainer &&\n\t\t\t\t\t[prevButton, nextButton].indexOf(target) < 0\n\t\t\t\t) {\n\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t}\n\n\t\t\t\tvar targetIn = [prevButton, nextButton].indexOf(target);\n\t\t\t\tif (targetIn >= 0) {\n\t\t\t\t\tpassEventObject = true;\n\t\t\t\t\tdir = targetIn === 0 ? -1 : 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rewind) {\n\t\t\t\tif (index === indexMin && dir === -1) {\n\t\t\t\t\tgoTo('last', e);\n\t\t\t\t\treturn;\n\t\t\t\t} else if (index === indexMax && dir === 1) {\n\t\t\t\t\tgoTo('first', e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dir) {\n\t\t\t\tindex += slideBy * dir;\n\t\t\t\tif (autoWidth) {\n\t\t\t\t\tindex = Math.floor(index);\n\t\t\t\t}\n\t\t\t\t// pass e when click control buttons or keydown\n\t\t\t\trender(passEventObject || (e && e.type === 'keydown') ? e : null);\n\t\t\t}\n\t\t}\n\n\t\t// on nav click\n\t\tfunction onNavClick(e) {\n\t\t\tif (running) {\n\t\t\t\tif (preventActionWhenRunning) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tonTransitionEnd();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te = getEvent(e);\n\t\t\tvar target = getTarget(e),\n\t\t\t\tnavIndex;\n\n\t\t\t// find the clicked nav item\n\t\t\twhile (target !== navContainer && !hasAttr(target, 'data-nav')) {\n\t\t\t\ttarget = target.parentNode;\n\t\t\t}\n\t\t\tif (hasAttr(target, 'data-nav')) {\n\t\t\t\tvar navIndex = (navClicked = Number(getAttr(target, 'data-nav'))),\n\t\t\t\t\ttargetIndexBase =\n\t\t\t\t\t\tfixedWidth || autoWidth\n\t\t\t\t\t\t\t? (navIndex * slideCount) / pages\n\t\t\t\t\t\t\t: navIndex * items,\n\t\t\t\t\ttargetIndex = navAsThumbnails\n\t\t\t\t\t\t? navIndex\n\t\t\t\t\t\t: Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n\t\t\t\tgoTo(targetIndex, e);\n\n\t\t\t\tif (navCurrentIndex === navIndex) {\n\t\t\t\t\tif (animating) {\n\t\t\t\t\t\tstopAutoplay();\n\t\t\t\t\t}\n\t\t\t\t\tnavClicked = -1; // reset navClicked\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// autoplay functions\n\t\tfunction setAutoplayTimer() {\n\t\t\tautoplayTimer = setInterval(function () {\n\t\t\t\tonControlsClick(null, autoplayDirection);\n\t\t\t}, autoplayTimeout);\n\n\t\t\tanimating = true;\n\t\t}\n\n\t\tfunction stopAutoplayTimer() {\n\t\t\tclearInterval(autoplayTimer);\n\t\t\tanimating = false;\n\t\t}\n\n\t\tfunction updateAutoplayButton(action, txt) {\n\t\t\tsetAttrs(autoplayButton, { 'data-action': action });\n\t\t\tautoplayButton.innerHTML =\n\t\t\t\tautoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n\t\t}\n\n\t\tfunction startAutoplay() {\n\t\t\tsetAutoplayTimer();\n\t\t\tif (autoplayButton) {\n\t\t\t\tupdateAutoplayButton('stop', autoplayText[1]);\n\t\t\t}\n\t\t}\n\n\t\tfunction stopAutoplay() {\n\t\t\tstopAutoplayTimer();\n\t\t\tif (autoplayButton) {\n\t\t\t\tupdateAutoplayButton('start', autoplayText[0]);\n\t\t\t}\n\t\t}\n\n\t\t// programaitcally play/pause the slider\n\t\tfunction play() {\n\t\t\tif (autoplay && !animating) {\n\t\t\t\tstartAutoplay();\n\t\t\t\tautoplayUserPaused = false;\n\t\t\t}\n\t\t}\n\t\tfunction pause() {\n\t\t\tif (animating) {\n\t\t\t\tstopAutoplay();\n\t\t\t\tautoplayUserPaused = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction toggleAutoplay() {\n\t\t\tif (animating) {\n\t\t\t\tstopAutoplay();\n\t\t\t\tautoplayUserPaused = true;\n\t\t\t} else {\n\t\t\t\tstartAutoplay();\n\t\t\t\tautoplayUserPaused = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction onVisibilityChange() {\n\t\t\tif (doc.hidden) {\n\t\t\t\tif (animating) {\n\t\t\t\t\tstopAutoplayTimer();\n\t\t\t\t\tautoplayVisibilityPaused = true;\n\t\t\t\t}\n\t\t\t} else if (autoplayVisibilityPaused) {\n\t\t\t\tsetAutoplayTimer();\n\t\t\t\tautoplayVisibilityPaused = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction mouseoverPause() {\n\t\t\tif (animating) {\n\t\t\t\tstopAutoplayTimer();\n\t\t\t\tautoplayHoverPaused = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction mouseoutRestart() {\n\t\t\tif (autoplayHoverPaused) {\n\t\t\t\tsetAutoplayTimer();\n\t\t\t\tautoplayHoverPaused = false;\n\t\t\t}\n\t\t}\n\n\t\t// keydown events on document\n\t\tfunction onDocumentKeydown(e) {\n\t\t\te = getEvent(e);\n\t\t\tvar keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n\t\t\tif (keyIndex >= 0) {\n\t\t\t\tonControlsClick(e, keyIndex === 0 ? -1 : 1);\n\t\t\t}\n\t\t}\n\n\t\t// on key control\n\t\tfunction onControlsKeydown(e) {\n\t\t\te = getEvent(e);\n\t\t\tvar keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n\t\t\tif (keyIndex >= 0) {\n\t\t\t\tif (keyIndex === 0) {\n\t\t\t\t\tif (!prevButton.disabled) {\n\t\t\t\t\t\tonControlsClick(e, -1);\n\t\t\t\t\t}\n\t\t\t\t} else if (!nextButton.disabled) {\n\t\t\t\t\tonControlsClick(e, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// set focus\n\t\tfunction setFocus(el) {\n\t\t\tel.focus();\n\t\t}\n\n\t\t// on key nav\n\t\tfunction onNavKeydown(e) {\n\t\t\te = getEvent(e);\n\t\t\tvar curElement = doc.activeElement;\n\t\t\tif (!hasAttr(curElement, 'data-nav')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// var code = e.keyCode,\n\t\t\tvar keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(\n\t\t\t\t\te.keyCode\n\t\t\t\t),\n\t\t\t\tnavIndex = Number(getAttr(curElement, 'data-nav'));\n\n\t\t\tif (keyIndex >= 0) {\n\t\t\t\tif (keyIndex === 0) {\n\t\t\t\t\tif (navIndex > 0) {\n\t\t\t\t\t\tsetFocus(navItems[navIndex - 1]);\n\t\t\t\t\t}\n\t\t\t\t} else if (keyIndex === 1) {\n\t\t\t\t\tif (navIndex < pages - 1) {\n\t\t\t\t\t\tsetFocus(navItems[navIndex + 1]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tnavClicked = navIndex;\n\t\t\t\t\tgoTo(navIndex, e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction getEvent(e) {\n\t\t\te = e || win.event;\n\t\t\treturn isTouchEvent(e) ? e.changedTouches[0] : e;\n\t\t}\n\t\tfunction getTarget(e) {\n\t\t\treturn e.target || win.event.srcElement;\n\t\t}\n\n\t\tfunction isTouchEvent(e) {\n\t\t\treturn e.type.indexOf('touch') >= 0;\n\t\t}\n\n\t\tfunction preventDefaultBehavior(e) {\n\t\t\te.preventDefault ? e.preventDefault() : (e.returnValue = false);\n\t\t}\n\n\t\tfunction getMoveDirectionExpected() {\n\t\t\treturn (\n\t\t\t\tgetTouchDirection(\n\t\t\t\t\ttoDegree(\n\t\t\t\t\t\tlastPosition.y - initPosition.y,\n\t\t\t\t\t\tlastPosition.x - initPosition.x\n\t\t\t\t\t),\n\t\t\t\t\tswipeAngle\n\t\t\t\t) === options.axis\n\t\t\t);\n\t\t}\n\n\t\tfunction onPanStart(e) {\n\t\t\tif (running) {\n\t\t\t\tif (preventActionWhenRunning) {\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tonTransitionEnd();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (autoplay && animating) {\n\t\t\t\tstopAutoplayTimer();\n\t\t\t}\n\n\t\t\tpanStart = true;\n\t\t\tif (rafIndex) {\n\t\t\t\tcaf(rafIndex);\n\t\t\t\trafIndex = null;\n\t\t\t}\n\n\t\t\tvar $ = getEvent(e);\n\t\t\tevents.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n\t\t\tif (\n\t\t\t\t!isTouchEvent(e) &&\n\t\t\t\t['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0\n\t\t\t) {\n\t\t\t\tpreventDefaultBehavior(e);\n\t\t\t}\n\n\t\t\tlastPosition.x = initPosition.x = $.clientX;\n\t\t\tlastPosition.y = initPosition.y = $.clientY;\n\t\t\tif (carousel) {\n\t\t\t\ttranslateInit = parseFloat(\n\t\t\t\t\tcontainer.style[transformAttr].replace(transformPrefix, '')\n\t\t\t\t);\n\t\t\t\tresetDuration(container, '0s');\n\t\t\t}\n\t\t}\n\n\t\tfunction onPanMove(e) {\n\t\t\tif (panStart) {\n\t\t\t\tvar $ = getEvent(e);\n\t\t\t\tlastPosition.x = $.clientX;\n\t\t\t\tlastPosition.y = $.clientY;\n\n\t\t\t\tif (carousel) {\n\t\t\t\t\tif (!rafIndex) {\n\t\t\t\t\t\trafIndex = raf(function () {\n\t\t\t\t\t\t\tpanUpdate(e);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (moveDirectionExpected === '?') {\n\t\t\t\t\t\tmoveDirectionExpected = getMoveDirectionExpected();\n\t\t\t\t\t}\n\t\t\t\t\tif (moveDirectionExpected) {\n\t\t\t\t\t\tpreventScroll = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(typeof e.cancelable !== 'boolean' || e.cancelable) &&\n\t\t\t\t\tpreventScroll\n\t\t\t\t) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction panUpdate(e) {\n\t\t\tif (!moveDirectionExpected) {\n\t\t\t\tpanStart = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcaf(rafIndex);\n\t\t\tif (panStart) {\n\t\t\t\trafIndex = raf(function () {\n\t\t\t\t\tpanUpdate(e);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (moveDirectionExpected === '?') {\n\t\t\t\tmoveDirectionExpected = getMoveDirectionExpected();\n\t\t\t}\n\t\t\tif (moveDirectionExpected) {\n\t\t\t\tif (!preventScroll && isTouchEvent(e)) {\n\t\t\t\t\tpreventScroll = true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tif (e.type) {\n\t\t\t\t\t\tevents.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e));\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {}\n\n\t\t\t\tvar x = translateInit,\n\t\t\t\t\tdist = getDist(lastPosition, initPosition);\n\t\t\t\tif (!horizontal || fixedWidth || autoWidth) {\n\t\t\t\t\tx += dist;\n\t\t\t\t\tx += 'px';\n\t\t\t\t} else {\n\t\t\t\t\tvar percentageX = TRANSFORM\n\t\t\t\t\t\t? (dist * items * 100) / ((viewport + gutter) * slideCountNew)\n\t\t\t\t\t\t: (dist * 100) / (viewport + gutter);\n\t\t\t\t\tx += percentageX;\n\t\t\t\t\tx += '%';\n\t\t\t\t}\n\n\t\t\t\tcontainer.style[transformAttr] = transformPrefix + x + transformPostfix;\n\t\t\t}\n\t\t}\n\n\t\tfunction onPanEnd(e) {\n\t\t\tif (panStart) {\n\t\t\t\tif (rafIndex) {\n\t\t\t\t\tcaf(rafIndex);\n\t\t\t\t\trafIndex = null;\n\t\t\t\t}\n\t\t\t\tif (carousel) {\n\t\t\t\t\tresetDuration(container, '');\n\t\t\t\t}\n\t\t\t\tpanStart = false;\n\n\t\t\t\tvar $ = getEvent(e);\n\t\t\t\tlastPosition.x = $.clientX;\n\t\t\t\tlastPosition.y = $.clientY;\n\t\t\t\tvar dist = getDist(lastPosition, initPosition);\n\n\t\t\t\tif (Math.abs(dist)) {\n\t\t\t\t\t// drag vs click\n\t\t\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\t\t\t// prevent \"click\"\n\t\t\t\t\t\tvar target = getTarget(e);\n\t\t\t\t\t\taddEvents(target, {\n\t\t\t\t\t\t\tclick: function preventClick(e) {\n\t\t\t\t\t\t\t\tpreventDefaultBehavior(e);\n\t\t\t\t\t\t\t\tremoveEvents(target, { click: preventClick });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (carousel) {\n\t\t\t\t\t\trafIndex = raf(function () {\n\t\t\t\t\t\t\tif (horizontal && !autoWidth) {\n\t\t\t\t\t\t\t\tvar indexMoved = (-dist * items) / (viewport + gutter);\n\t\t\t\t\t\t\t\tindexMoved =\n\t\t\t\t\t\t\t\t\tdist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n\t\t\t\t\t\t\t\tindex += indexMoved;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar moved = -(translateInit + dist);\n\t\t\t\t\t\t\t\tif (moved <= 0) {\n\t\t\t\t\t\t\t\t\tindex = indexMin;\n\t\t\t\t\t\t\t\t} else if (moved >= slidePositions[slideCountNew - 1]) {\n\t\t\t\t\t\t\t\t\tindex = indexMax;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\t\t\t\twhile (i < slideCountNew && moved >= slidePositions[i]) {\n\t\t\t\t\t\t\t\t\t\tindex = i;\n\t\t\t\t\t\t\t\t\t\tif (moved > slidePositions[i] && dist < 0) {\n\t\t\t\t\t\t\t\t\t\t\tindex += 1;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\trender(e, dist);\n\t\t\t\t\t\t\tevents.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (moveDirectionExpected) {\n\t\t\t\t\t\t\tonControlsClick(e, dist > 0 ? -1 : 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// reset\n\t\t\tif (options.preventScrollOnTouch === 'auto') {\n\t\t\t\tpreventScroll = false;\n\t\t\t}\n\t\t\tif (swipeAngle) {\n\t\t\t\tmoveDirectionExpected = '?';\n\t\t\t}\n\t\t\tif (autoplay && !animating) {\n\t\t\t\tsetAutoplayTimer();\n\t\t\t}\n\t\t}\n\n\t\t// === RESIZE FUNCTIONS === //\n\t\t// (slidePositions, index, items) => vertical_conentWrapper.height\n\t\tfunction updateContentWrapperHeight() {\n\t\t\tvar wp = middleWrapper ? middleWrapper : innerWrapper;\n\t\t\twp.style.height =\n\t\t\t\tslidePositions[index + items] - slidePositions[index] + 'px';\n\t\t}\n\n\t\tfunction getPages() {\n\t\t\tvar rough = fixedWidth\n\t\t\t\t? ((fixedWidth + gutter) * slideCount) / viewport\n\t\t\t\t: slideCount / items;\n\t\t\treturn Math.min(Math.ceil(rough), slideCount);\n\t\t}\n\n\t\t/*\n\t\t * 1. update visible nav items list\n\t\t * 2. add \"hidden\" attributes to previous visible nav items\n\t\t * 3. remove \"hidden\" attrubutes to new visible nav items\n\t\t */\n\t\tfunction updateNavVisibility() {\n\t\t\tif (!nav || navAsThumbnails) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (pages !== pagesCached) {\n\t\t\t\tvar min = pagesCached,\n\t\t\t\t\tmax = pages,\n\t\t\t\t\tfn = showElement;\n\n\t\t\t\tif (pagesCached > pages) {\n\t\t\t\t\tmin = pages;\n\t\t\t\t\tmax = pagesCached;\n\t\t\t\t\tfn = hideElement;\n\t\t\t\t}\n\n\t\t\t\twhile (min < max) {\n\t\t\t\t\tfn(navItems[min]);\n\t\t\t\t\tmin++;\n\t\t\t\t}\n\n\t\t\t\t// cache pages\n\t\t\t\tpagesCached = pages;\n\t\t\t}\n\t\t}\n\n\t\tfunction info(e) {\n\t\t\treturn {\n\t\t\t\tcontainer: container,\n\t\t\t\tslideItems: slideItems,\n\t\t\t\tnavContainer: navContainer,\n\t\t\t\tnavItems: navItems,\n\t\t\t\tcontrolsContainer: controlsContainer,\n\t\t\t\thasControls: hasControls,\n\t\t\t\tprevButton: prevButton,\n\t\t\t\tnextButton: nextButton,\n\t\t\t\titems: items,\n\t\t\t\tslideBy: slideBy,\n\t\t\t\tcloneCount: cloneCount,\n\t\t\t\tslideCount: slideCount,\n\t\t\t\tslideCountNew: slideCountNew,\n\t\t\t\tindex: index,\n\t\t\t\tindexCached: indexCached,\n\t\t\t\tdisplayIndex: getCurrentSlide(),\n\t\t\t\tnavCurrentIndex: navCurrentIndex,\n\t\t\t\tnavCurrentIndexCached: navCurrentIndexCached,\n\t\t\t\tpages: pages,\n\t\t\t\tpagesCached: pagesCached,\n\t\t\t\tsheet: sheet,\n\t\t\t\tisOn: isOn,\n\t\t\t\tevent: e || {},\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tversion: '2.9.3',\n\t\t\tgetInfo: info,\n\t\t\tevents: events,\n\t\t\tgoTo: goTo,\n\t\t\tplay: play,\n\t\t\tpause: pause,\n\t\t\tisOn: isOn,\n\t\t\tupdateSliderHeight: updateInnerWrapperHeight,\n\t\t\trefresh: initSliderTransform,\n\t\t\tdestroy: destroy,\n\t\t\trebuild: function () {\n\t\t\t\treturn tns(extend(options, optionsElements));\n\t\t\t},\n\t\t};\n\t};\n\n\treturn tns;\n})();\n\n// window.onload = function () {\n// \t$('.slider').removeClass('visually-hidden');\n\n// \ttns({\n// \t\tcontainer: '.slider',\n// \t\titems: 1,\n// \t\tgutter: 30,\n// \t\tslideBy: 1,\n// \t\tcontrols: false,\n// \t\tautoplay: true,\n// \t\tautoplayButtonOutput: false,\n// \t\tnavPosition: 'bottom',\n// \t\tmouseDrag: true,\n// \t\tswipeAngle: false,\n// \t\tspeed: 400,\n\n// \t\tresponsive: {\n// \t\t\t768: {\n// \t\t\t\tgutter: 20,\n\n// \t\t\t\titems: 2,\n// \t\t\t},\n// \t\t\t960: {\n// \t\t\t\titems: 3,\n// \t\t\t\tgutter: 30,\n// \t\t\t\tcenter: false,\n// \t\t\t},\n// \t\t},\n// \t});\n// };\n"]}